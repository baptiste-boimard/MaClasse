@inherits ComponentBase

<MudText Typo="Typo.h6">
    @(IsEditMode ? "Modifier un événement" : "Ajouter un événement")
</MudText>

<MudTextField Label="Titre" @bind-Value="model.Text" />

<MudGrid>
    <MudItem xs="6">
        <MudDatePicker Label="Début (Date)" @bind-Date="tempStartDate" />
    </MudItem>
    <MudItem xs="6">
        <MudTimePicker 
            Label="Début (Heure)" 
            @bind-Time="tempStartTime"
            MinuteSelectionStep="5"
            AnchorOrigin="Origin.BottomRight"
            Margin= "Margin.Normal" />
    </MudItem>
</MudGrid>

<MudGrid>
    <MudItem xs="6">
        <MudDatePicker Label="Fin (Date)" @bind-Date="tempEndDate" />
    </MudItem>
    <MudItem xs="6">
        <MudTimePicker 
            Label="Fin (Heure)" 
            @bind-Time="tempEndTime"
            MinuteSelectionStep="5"
            AnchorOrigin="Origin.BottomRight"
            Margin= "Margin.Normal" />
    </MudItem>
</MudGrid>

<div style="display: flex; align-items: center; gap: 1rem;">
    <div style=@($"width: 4rem; height: 2rem; background-color: {_colorValue}; border-radius: 4px; border: 1px solid #ccc;")></div>

    <MudColorPicker Label="Choisir une couleur"
                    Style="@($"color: {_colorValue};")"
                    @bind-Text="_colorValue"
                    ShowAlpha="false"
                    ShowPreview="false"
                    ShowModeSwitch="false"
                    ShowColorField="false"
                    ColorPickerMode="ColorPickerMode.HEX"
                    AnchorOrigin="Origin.BottomRight"
                    Margin="Margin.Normal" />
</div>


<MudStack Row Spacing="2" Class="mt-4">
    <MudButton Color="Color.Primary" OnClick="Submit">Enregistrer</MudButton>
    <MudButton Variant="MudBlazor.Variant.Outlined" OnClick="Cancel">Annuler</MudButton>
    @if (IsEditMode)
    {
        <MudButton Color="Color.Error" Variant="MudBlazor.Variant.Outlined" OnClick="Delete">
            Supprimer
        </MudButton>
    }
</MudStack>
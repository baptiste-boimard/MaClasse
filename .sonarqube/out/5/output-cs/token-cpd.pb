‰C
RC:\Users\bapti\RiderProjects\MaClasse\MaClasse.Client\States\ViewDashboardState.cs
	namespace 	
MaClasse
 
. 
Client 
. 
States  
;  !
public 
class 
ViewDashboardState 
{ 
private		 
readonly		 
	UserState		 

_userState		 )
;		) *
private

 
readonly

 

HttpClient

 
_httpClient

  +
;

+ ,
private 
readonly 
IConfiguration #
_configuration$ 2
;2 3
private 
readonly 
SchedulerState #
_schedulerState$ 3
;3 4
public 

ViewDashboardState 
( 
	UserState 
	userState 
, 

HttpClient 

httpClient 
, 
IConfiguration 
configuration $
,$ %
SchedulerState 
schedulerState %
)% &
{ 

_userState 
= 
	userState 
; 
_httpClient 
= 

httpClient  
;  !
_configuration 
= 
configuration &
;& '
_schedulerState 
= 
schedulerState (
;( )
} 
public 

event 
Action 
OnChange  
;  !
public 

List 
< 
UserDashboard 
> 

DashBoards )
{* +
get, /
;/ 0
set1 4
;4 5
}6 7
public 

async 
void (
GetViewDashboardFromDatabase 2
(2 3
)3 4
{ 
List   
<   
UserProfile   
>   
usersProfile   &
=  ' (
new  ) ,
List  - 1
<  1 2
UserProfile  2 =
>  = >
(  > ?
)  ? @
;  @ A
List!! 
<!! 
	Scheduler!! 
>!! 

schedulers!! "
=!!# $
new!!% (
List!!) -
<!!- .
	Scheduler!!. 7
>!!7 8
(!!8 9
)!!9 :
;!!: ;
var##  
viewDashboardRequest##  
=##! "
new### & 
ViewDashboardRequest##' ;
{$$ 	
	IdSession%% 
=%% 

_userState%% "
.%%" #
	IdSession%%# ,
,%%, -
AsDirecteur&& 
=&& 

_userState&& $
.&&$ %
AsDirecteur&&% 0
}'' 	
;''	 

var** 
response** 
=** 
await** 
_httpClient** (
.**( )
PostAsJsonAsync**) 8
(**8 9
$"++ 
{++ 
_configuration++ 
[++ 
$str++ .
]++. /
}++/ 0
$str++0 P
"++P Q
,++Q R 
viewDashboardRequest,,  
),,  !
;,,! "
if.. 

(.. 
response.. 
... 
IsSuccessStatusCode.. (
)..( )
{// 	
usersProfile00 
=00 
await00  
response00! )
.00) *
Content00* 1
.001 2
ReadFromJsonAsync002 C
<00C D
List00D H
<00H I
UserProfile00I T
>00T U
>00U V
(00V W
)00W X
;00X Y
}11 	
var33 
IdsProfesseur33 
=33 
usersProfile33 (
.44 
Select44 
(44 
u44 
=>44 
u44 
.44 
Id44 
)44 
.55 
Distinct55 
(55 
)55 
.66 
ToList66 
(66 
)66 
;66 
var88 
responseScheduler88 
=88 
await88  %
_httpClient88& 1
.881 2
PostAsJsonAsync882 A
(88A B
$"99 
{99 
_configuration99 
[99 
$str99 .
]99. /
}99/ 0
$str990 L
"99L M
,99M N
IdsProfesseur:: 
):: 
;:: 
if== 

(== 
responseScheduler== 
.== 
IsSuccessStatusCode== 1
)==1 2
{>> 	

schedulers?? 
=?? 
await?? 
responseScheduler?? 0
.??0 1
Content??1 8
.??8 9
ReadFromJsonAsync??9 J
<??J K
List??K O
<??O P
	Scheduler??P Y
>??Y Z
>??Z [
(??[ \
)??\ ]
;??] ^
}@@ 	

DashBoardsEE 
=EE 
usersProfileEE !
.FF 
SelectFF 
(FF 
userFF 
=>FF 
{GG 
varHH 
	schedulerHH 
=HH 

schedulersHH  *
.HH* +
FirstOrDefaultHH+ 9
(HH9 :
sII 
=>II 
sII 
.II 
IdUserII !
==II" $
userII% )
.II) *
IdII* ,
)II, -
;II- .
returnKK 
newKK 
UserDashboardKK (
{LL 
UserIdMM 
=MM 
userMM !
.MM! "
IdMM" $
,MM$ %
	UserEmailNN 
=NN 
userNN  $
.NN$ %
EmailNN% *
,NN* +
UserNameOO 
=OO 
userOO #
.OO# $
NameOO$ (
,OO( )
UserSchedulerPP !
=PP" #
	schedulerPP$ -
}QQ 
;QQ 
}RR 
)RR 
.RR 
ToListRR 
(RR 
)RR 
;RR 
SetViewDashboardTT 
(TT 

DashBoardsTT #
)TT# $
;TT$ %
}UU 
publicWW 

voidWW 
SetViewDashboardWW  
(WW  !
ListWW! %
<WW% &
UserDashboardWW& 3
>WW3 4
userDashboardsWW5 C
)WWC D
{XX 

DashBoardsYY 
=YY 
userDashboardsYY #
;YY# $
NotifyStateChangedZZ 
(ZZ 
)ZZ 
;ZZ 
}[[ 
public]] 

ViewDashboardState]] 
GetViewDashboard]] .
(]]. /
)]]/ 0
{^^ 
return__ 
this__ 
;__ 
}`` 
publicbb 

voidbb #
ResetViewDashboardStatebb '
(bb' (
)bb( )
{cc 

DashBoardsdd 
=dd 
newdd 
Listdd 
<dd 
UserDashboarddd +
>dd+ ,
(dd, -
)dd- .
;dd. /
}ee 
publicgg 

asyncgg 
voidgg 
GetUserAppointmentsgg )
(gg) *
stringgg* 0
userIdgg1 7
)gg7 8
{hh 
varii 
responseii 
=ii 
awaitii 
_httpClientii (
.ii( )
PostAsJsonAsyncii) 8
(ii8 9
$"jj 
{jj 
_configurationjj 
[jj 
$strjj .
]jj. /
}jj/ 0
$strjj0 K
"jjK L
,jjL M
newjjN Q
CreateDataRequestjjR c
{kk 
UserIdll 
=ll 
userIdll 
}mm 
)mm 
;mm 
ifoo 

(oo 
responseoo 
.oo 
IsSuccessStatusCodeoo (
)oo( )
{pp 	
varqq 
	schedulerqq 
=qq 
awaitqq !
responseqq" *
.qq* +
Contentqq+ 2
.qq2 3
ReadFromJsonAsyncqq3 D
<qqD E
	SchedulerqqE N
>qqN O
(qqO P
)qqP Q
;qqQ R
ifss 
(ss 
	schedulerss 
!=ss 
nullss !
)ss! "
{tt 
_schedulerStateuu 
.uu  
SetAppointmentsuu  /
(uu/ 0
	scheduleruu0 9
.uu9 :
Appointmentsuu: F
)uuF G
;uuG H
NotifyStateChangedww "
(ww" #
)ww# $
;ww$ %
}xx 
}yy 	
}{{ 
private}} 
void}} 
NotifyStateChanged}} #
(}}# $
)}}$ %
{~~ 
OnChange 
? 
. 
Invoke 
( 
) 
; 
}
ÄÄ 
}ÅÅ °;
IC:\Users\bapti\RiderProjects\MaClasse\MaClasse.Client\States\UserState.cs
	namespace 	
MaClasse
 
. 
Client 
. 
States  
;  !
public 
class 
	UserState 
{ 
public 

	UserState 
( 
) 
{ 
}

 
public 

event 
Action 
OnChange  
;  !
public 

string 
AccessToken 
{ 
get  #
;# $
set% (
;( )
}* +
public 

string 
	IdSession 
{ 
get !
;! "
set# &
;& '
}( )
public 

string 
Id 
{ 
get 
; 
set 
;  
}! "
public 

string 
IdRole 
{ 
get 
; 
set  #
;# $
}% &
public 

string 
Email 
{ 
get 
; 
set "
;" #
}$ %
public 

string 
Name 
{ 
get 
; 
set !
;! "
}# $
public 

string 
Role 
{ 
get 
; 
set !
;! "
}# $
public 

string 
Zone 
{ 
get 
; 
set !
;! "
}# $
public 

string 
	GivenName 
{ 
get !
;! "
set# &
;& '
}( )
public 

string 

FamilyName 
{ 
get "
;" #
set$ '
;' (
}) *
public 

string 
Picture 
{ 
get 
;  
set! $
;$ %
}& '
public 

DateTime 
? 
	CreatedAt 
{  
get! $
;$ %
set& )
;) *
}+ ,
public 

DateTime 
? 
	UpdatedAt 
{  
get! $
;$ %
set& )
;) *
}+ ,
public 

List 
< 
Rattachment 
> 
AsDirecteur (
{) *
get+ .
;. /
set0 3
;3 4
}5 6
public 

List 
< 
Rattachment 
> 
AsProfesseur )
{* +
get, /
;/ 0
set1 4
;4 5
}6 7
public 

void 
SetUser 
( 
	UserState !
	userState" +
)+ ,
{   
AccessToken!! 
=!! 
	userState!! 
.!!  
AccessToken!!  +
;!!+ ,
	IdSession"" 
="" 
	userState"" 
."" 
	IdSession"" '
;""' (
Id## 

=## 
	userState## 
.## 
Id## 
;## 
IdRole$$ 
=$$ 
	userState$$ 
.$$ 
IdRole$$ !
;$$! "
Email%% 
=%% 
	userState%% 
.%% 
Email%% 
;%%  
Name&& 
=&& 
	userState&& 
.&& 
Name&& 
;&& 
Role'' 
='' 
	userState'' 
.'' 
Role'' 
;'' 
Zone(( 
=(( 
	userState(( 
.(( 
Zone(( 
;(( 
	GivenName)) 
=)) 
	userState)) 
.)) 
	GivenName)) '
;))' (

FamilyName** 
=** 
	userState** 
.** 

FamilyName** )
;**) *
Picture++ 
=++ 
	userState++ 
.++ 
Picture++ #
;++# $
	CreatedAt,, 
=,, 
	userState,, 
.,, 
	CreatedAt,, '
;,,' (
	UpdatedAt-- 
=-- 
	userState-- 
.-- 
	UpdatedAt-- '
;--' (
AsDirecteur.. 
=.. 
	userState.. 
...  
AsDirecteur..  +
;..+ ,
AsProfesseur// 
=// 
	userState//  
.//  !
AsProfesseur//! -
;//- .
}00 
public22 

	UserState22 
GetUser22 
(22 
)22 
{33 
return44 
this44 
;44 
}55 
public77 

void77 
ResetUserState77 
(77 
)77  
{88 
AccessToken99 
=99 
$str99 
;99 
	IdSession:: 
=:: 
$str:: 
;:: 
Id;; 

=;; 
$str;; 
;;; 
IdRole<< 
=<< 
$str<< 
;<< 
Email== 
=== 
$str== 
;== 
Name>> 
=>> 
$str>> 
;>> 
Role?? 
=?? 
$str?? 
;?? 
Zone@@ 
=@@ 
$str@@ 
;@@ 
	GivenNameAA 
=AA 
$strAA 
;AA 

FamilyNameBB 
=BB 
$strBB 
;BB 
PictureCC 
=CC 
$strCC 
;CC 
	CreatedAtDD 
=DD 
nullDD 
;DD 
	UpdatedAtEE 
=EE 
nullEE 
;EE 
AsDirecteurFF 
=FF 
newFF 
ListFF 
<FF 
RattachmentFF *
>FF* +
(FF+ ,
)FF, -
;FF- .
AsProfesseurGG 
=GG 
newGG 
ListGG 
<GG  
RattachmentGG  +
>GG+ ,
(GG, -
)GG- .
;GG. /
}HH 
publicJJ 

ListJJ 
<JJ 
RattachmentJJ 
>JJ 
SetAsDirecteurJJ +
(JJ+ ,
ListJJ, 0
<JJ0 1
RattachmentJJ1 <
>JJ< =
rattachmentsJJ> J
)JJJ K
{KK 
AsDirecteurLL 
=LL 
rattachmentsLL "
;LL" #
NotifyStateChangedMM 
(MM 
)MM 
;MM 
returnNN 
AsDirecteurNN 
;NN 
}OO 
publicQQ 

ListQQ 
<QQ 
RattachmentQQ 
>QQ 
SetAsProfesseurQQ ,
(QQ, -
ListQQ- 1
<QQ1 2
RattachmentQQ2 =
>QQ= >
rattachmentsQQ? K
)QQK L
{RR 
AsProfesseurSS 
=SS 
rattachmentsSS #
;SS# $
NotifyStateChangedTT 
(TT 
)TT 
;TT 
returnUU 
AsProfesseurUU 
;UU 
}VV 
privateXX 
voidXX 
NotifyStateChangedXX #
(XX# $
)XX$ %
{YY 
OnChangeZZ 
?ZZ 
.ZZ 
InvokeZZ 
(ZZ 
)ZZ 
;ZZ 
}[[ 
}\\ ê$
NC:\Users\bapti\RiderProjects\MaClasse\MaClasse.Client\States\SchedulerState.cs
	namespace 	
MaClasse
 
. 
Client 
. 
States  
;  !
public 
class 
SchedulerState 
{ 
public		 

event		 
Action		 
OnChange		  
;		  !
public 

string 
IdScheduler 
{ 
get  #
;# $
set% (
;( )
}* +
public 

string 
IdUser 
{ 
get 
; 
set  #
;# $
}% &
public 

List 
< 
Appointment 
> 
Appointments )
{* +
get, /
;/ 0
set1 4
;4 5
}6 7
public 

DateTime 
? 
	CreatedAt 
{  
get! $
;$ %
set& )
;) *
}+ ,
public 

DateTime 
? 
	UpdatedAt 
{  
get! $
;$ %
set& )
;) *
}+ ,
public 

string 
SchedulerDisplayed $
{% &
get' *
;* +
set, /
;/ 0
}1 2
public 

bool 

isReadOnly 
{ 
get  
;  !
set" %
;% &
}' (
=) *
false+ 0
;0 1
public 

void 
SetScheduler 
( 
SchedulerState +
schedulerState, :
): ;
{ 
IdScheduler 
= 
schedulerState $
.$ %
IdScheduler% 0
;0 1
IdUser 
= 
schedulerState 
.  
IdUser  &
;& '
Appointments 
= 
schedulerState %
.% &
Appointments& 2
;2 3
	CreatedAt 
= 
schedulerState "
." #
	CreatedAt# ,
;, -
	UpdatedAt 
= 
schedulerState "
." #
	UpdatedAt# ,
;, -
SchedulerDisplayed 
= 
schedulerState +
.+ ,
SchedulerDisplayed, >
;> ?
NotifyStateChanged 
( 
) 
; 
} 
public!! 

SchedulerState!! 
GetScheduler!! &
(!!& '
)!!' (
{"" 
return## 
this## 
;## 
}$$ 
public&& 

void&& 
ResetSchedulerState&& #
(&&# $
)&&$ %
{'' 
IdScheduler(( 
=(( 
$str(( 
;(( 
IdUser)) 
=)) 
$str)) 
;)) 
Appointments** 
=** 
new** 
List** 
<**  
Appointment**  +
>**+ ,
(**, -
)**- .
;**. /
	CreatedAt++ 
=++ 
null++ 
;++ 
	UpdatedAt,, 
=,, 
null,, 
;,, 
NotifyStateChanged.. 
(.. 
).. 
;.. 
}00 
public22 

void22 
SetAppointments22 
(22  
List22  $
<22$ %
Appointment22% 0
>220 1
appointments222 >
)22> ?
{33 
Appointments44 
=44 
appointments44 #
;44# $
NotifyStateChanged55 
(55 
)55 
;55 
}77 
public99 

void99 
SetViewDashboard99  
(99  !
string99! '
userId99( .
)99. /
{:: 
SchedulerDisplayed;; 
=;; 
userId;; #
;;;# $

isReadOnly<< 
=<< 
userId<< 
!=<< 
IdUser<< %
?<<& '
true<<( ,
:<<- .
false<</ 4
;<<4 5
NotifyStateChanged== 
(== 
)== 
;== 
}>> 
privateBB 
voidBB 
NotifyStateChangedBB #
(BB# $
)BB$ %
{CC 
OnChangeDD 
?DD 
.DD 
InvokeDD 
(DD 
)DD 
;DD 
}EE 
}FF “Â
KC:\Users\bapti\RiderProjects\MaClasse\MaClasse.Client\States\LessonState.cs
	namespace		 	
MaClasse		
 
.		 
Client		 
.		 
States		  
;		  !
public 
class 
LessonState 
{ 
private 
readonly 

HttpClient 
_httpClient  +
;+ ,
private 
readonly 
IConfiguration #
_configuration$ 2
;2 3
private 
readonly 
	UserState 

_userState )
;) *
private 
readonly 
SchedulerState #
_schedulerState$ 3
;3 4
private 
readonly 
ILogger 
< 
LessonState (
>( )
_logger* 1
;1 2
public 

LessonState 
( 

HttpClient 

httpClient 
, 
IConfiguration 
configuration $
,$ %
	UserState 
	userState 
, 
SchedulerState 
schedulerState %
,% &
ILogger 
< 
LessonState 
> 
logger #
)# $
{ 
_httpClient 
= 

httpClient  
;  !
_configuration 
= 
configuration &
;& '

_userState 
= 
	userState 
; 
_schedulerState 
= 
schedulerState (
;( )
_logger 
= 
logger 
; 
} 
public!! 

event!! 
Action!! !
OnAppointmentSelected!! -
;!!- .
public"" 

event"" 
Action"" 
OnChange""  
;""  !
public$$ 

Lesson$$ 
Lesson$$ 
{$$ 
get$$ 
;$$ 
set$$  #
;$$# $
}$$% &
public%% 

Lesson%% 

CopyLesson%% 
{%% 
get%% "
;%%" #
set%%$ '
;%%' (
}%%) *
=%%+ ,
new%%- 0
Lesson%%1 7
(%%7 8
)%%8 9
;%%9 :
public&& 

Appointment&& 
SelectedAppointment&& *
{&&+ ,
get&&- 0
;&&0 1
set&&2 5
;&&5 6
}&&7 8
public'' 

bool'' 

IsReadOnly'' 
{'' 
get''  
;''  !
set''" %
;''% &
}''' (
='') *
false''+ 0
;''0 1
public(( 

string(( 
?(( 
UserLessonDisplayed(( &
{((' (
get(() ,
;((, -
set((. 1
;((1 2
}((3 4
=((5 6
null((7 ;
;((; <
public++ 

async++ 
void++ 
SetLessonSelected++ '
(++' (
Appointment++( 3
appointment++4 ?
)++? @
{,, 
SelectedAppointment.. 
=.. 
appointment.. )
;..) *
var11 
lesson11 
=11 
await11 $
GetLessonFromAppointment11 3
(113 4
)114 5
;115 6
Lesson33 
=33 
lesson33 
;33 
Lesson55 
.55 
IdAppointment55 
=55 
SelectedAppointment55 2
.552 3
Id553 5
;555 6
NotifyStateChanged77 
(77 
)77 
;77 
}88 
public:: 

async:: 
Task:: 
<:: 
Lesson:: 
>:: $
GetLessonFromAppointment:: 6
(::6 7
)::7 8
{;; 
var<< 
lessonRequest<< 
=<< 
new<< 
LessonRequest<<  -
{== 	
Appointment>> 
=>> 
SelectedAppointment>> -
,>>- .
	IdSession?? 
=?? 

_userState?? "
.??" #
	IdSession??# ,
,??, -
UserLessonDisplayed@@ 
=@@  !
UserLessonDisplayed@@" 5
}AA 	
;AA	 

varCC 
responseCC 
=CC 
awaitCC 
_httpClientCC (
.CC( )
PostAsJsonAsyncCC) 8
(CC8 9
$"DD 
{DD 
_configurationDD 
[DD 
$strDD .
]DD. /
}DD/ 0
$strDD0 H
"DDH I
,DDI J
lessonRequestDDK X
)DDX Y
;DDY Z
ifFF 

(FF 
responseFF 
.FF 
IsSuccessStatusCodeFF (
)FF( )
{GG 	
varHH 
lessonHH 
=HH 
awaitHH 
responseHH '
.HH' (
ContentHH( /
.HH/ 0
ReadFromJsonAsyncHH0 A
<HHA B
LessonHHB H
>HHH I
(HHI J
)HHJ K
;HHK L
returnII 
lessonII 
;II 
}JJ 	
returnLL 
newLL 
LessonLL 
(LL 
)LL 
;LL 
}MM 
publicOO 

asyncOO 
TaskOO 
<OO 
boolOO 
>OO 
	AddLessonOO %
(OO% &
LessonOO& ,
lessonOO- 3
,OO3 4
AppointmentOO5 @
appointmentOOA L
)OOL M
{PP 
lessonQQ 
.QQ 
IdAppointmentQQ 
=QQ 
appointmentQQ *
.QQ* +
IdQQ+ -
;QQ- .
varSS 
newRequestLessonSS 
=SS 
newSS "
RequestLessonSS# 0
{TT 	
LessonUU 
=UU 
lessonUU 
,UU 
	IdSessionVV 
=VV 

_userStateVV "
.VV" #
	IdSessionVV# ,
}WW 	
;WW	 

varYY 
responseYY 
=YY 
awaitYY 
_httpClientYY (
.YY( )
PostAsJsonAsyncYY) 8
(YY8 9
$"ZZ 
{ZZ 
_configurationZZ !
[ZZ! "
$strZZ" 2
]ZZ2 3
}ZZ3 4
$strZZ4 L
"ZZL M
,ZZM N
newRequestLessonZZO _
)ZZ_ `
;ZZ` a
if\\ 

(\\ 
response\\ 
.\\ 
IsSuccessStatusCode\\ (
)\\( )
{]] 	
Lesson^^ 
=^^ 
await^^ 
response^^ #
.^^# $
Content^^$ +
.^^+ ,
ReadFromJsonAsync^^, =
<^^= >
Lesson^^> D
>^^D E
(^^E F
)^^F G
;^^G H
NotifyStateChanged__ 
(__ 
)__  
;__  !
return`` 
true`` 
;`` 
}aa 	
returncc 
falsecc 
;cc 
}dd 
publicff 

asyncff 
voidff 
DeleteLessonff "
(ff" #
Lessonff# )
lessonff* 0
)ff0 1
{gg 
varhh 
newRequestLessonhh 
=hh 
newhh "
RequestLessonhh# 0
{ii 	
Lessonjj 
=jj 
lessonjj 
,jj 
	IdSessionkk 
=kk 

_userStatekk "
.kk" #
	IdSessionkk# ,
}ll 	
;ll	 

varoo 
deletionResponseoo 
=oo 
awaitoo $
_httpClientoo% 0
.oo0 1
PostAsJsonAsyncoo1 @
(oo@ A
$"pp 
{pp 
_configurationpp 
[pp 
$strpp .
]pp. /
}pp/ 0
$strpp0 G
"ppG H
,ppH I
newRequestLessonppJ Z
)ppZ [
;pp[ \
ifrr 

(rr 
deletionResponserr 
.rr 
IsSuccessStatusCoderr 0
)rr0 1
{ss 	
vartt 
responsett 
=tt 
awaittt  
_httpClienttt! ,
.tt, -
PostAsJsonAsynctt- <
(tt< =
$"uu 
{uu 
_configurationuu !
[uu! "
$struu" 2
]uu2 3
}uu3 4
$struu4 O
"uuO P
,uuP Q
newRequestLessonuuR b
)uub c
;uuc d
ifww 
(ww 
responseww 
.ww 
IsSuccessStatusCodeww ,
)ww, -
{xx 
Lessonyy 
=yy 
newyy 
Lessonyy #
(yy# $
)yy$ %
;yy% &
SelectedAppointmentzz #
=zz$ %
newzz& )
Appointmentzz* 5
(zz5 6
)zz6 7
;zz7 8
NotifyStateChanged|| "
(||" #
)||# $
;||$ %
}}} 
}~~ 	
} 
public
ÅÅ 

async
ÅÅ 
void
ÅÅ 2
$DeleteLessonAfterAppointmentDeletion
ÅÅ :
(
ÅÅ: ;
string
ÅÅ; A
idAppointment
ÅÅB O
)
ÅÅO P
{
ÇÇ 
var
ÉÉ 
newRequestLesson
ÉÉ 
=
ÉÉ 
new
ÉÉ "
RequestLesson
ÉÉ# 0
{
ÑÑ 	
	IdSession
ÖÖ 
=
ÖÖ 

_userState
ÖÖ "
.
ÖÖ" #
	IdSession
ÖÖ# ,
,
ÖÖ, -
IdAppointement
ÜÜ 
=
ÜÜ 
idAppointment
ÜÜ *
,
ÜÜ* +
Lesson
áá 
=
áá 
Lesson
áá 
}
àà 	
;
àà	 

var
ãã 
deletionResponse
ãã 
=
ãã 
await
ãã $
_httpClient
ãã% 0
.
ãã0 1
PostAsJsonAsync
ãã1 @
(
ãã@ A
$"
åå 
{
åå 
_configuration
åå 
[
åå 
$str
åå .
]
åå. /
}
åå/ 0
$str
åå0 G
"
ååG H
,
ååH I
newRequestLesson
ååJ Z
)
ååZ [
;
åå[ \
if
éé 

(
éé 
deletionResponse
éé 
.
éé !
IsSuccessStatusCode
éé 0
)
éé0 1
{
èè 	
var
ëë 
response
ëë 
=
ëë 
await
ëë  
_httpClient
ëë! ,
.
ëë, -
PostAsJsonAsync
ëë- <
(
ëë< =
$"
íí 
{
íí 
_configuration
íí !
[
íí! "
$str
íí" 2
]
íí2 3
}
íí3 4
$str
íí4 O
"
ííO P
,
ííP Q
newRequestLesson
ííR b
)
ííb c
;
ííc d
if
îî 
(
îî 
response
îî 
.
îî !
IsSuccessStatusCode
îî ,
)
îî, -
{
ïï 
if
óó 
(
óó 
Lesson
óó 
.
óó 
IdAppointment
óó (
==
óó) +
idAppointment
óó, 9
)
óó9 :
{
òò 
Lesson
ôô 
=
ôô 
new
ôô  
Lesson
ôô! '
(
ôô' (
)
ôô( )
;
ôô) *!
SelectedAppointment
öö '
=
öö( )
new
öö* -
Appointment
öö. 9
(
öö9 :
)
öö: ;
;
öö; <
}
õõ  
NotifyStateChanged
ùù "
(
ùù" #
)
ùù# $
;
ùù$ %
}
ûû 
}
üü 	
}
†† 
public
¢¢ 

async
¢¢ 
void
¢¢ '
UpdateSelectedAppointment
¢¢ /
(
¢¢/ 0
List
¢¢0 4
<
¢¢4 5
Appointment
¢¢5 @
>
¢¢@ A
appointments
¢¢B N
)
¢¢N O
{
££ 
var
§§ 
updated
§§ 
=
§§ 
appointments
§§ "
.
§§" #
FirstOrDefault
§§# 1
(
§§1 2
a
§§2 3
=>
§§4 6
a
§§7 8
.
§§8 9
Id
§§9 ;
==
§§< >!
SelectedAppointment
§§? R
.
§§R S
Id
§§S U
)
§§U V
;
§§V W
if
¶¶ 

(
¶¶ 
updated
¶¶ 
!=
¶¶ 
null
¶¶ 
)
¶¶ 
{
ßß 	!
SelectedAppointment
®® 
=
®®  !
updated
®®" )
;
®®) * 
NotifyStateChanged
©© 
(
©© 
)
©©  
;
©©  !
}
™™ 	
}
´´ 
public
≠≠ 

async
≠≠ 
void
≠≠ 
SetCopyLesson
≠≠ #
(
≠≠# $
Lesson
≠≠$ *
lesson
≠≠+ 1
)
≠≠1 2
{
ÆÆ 
lesson
ØØ 
.
ØØ 
IdLesson
ØØ 
=
ØØ 
null
ØØ 
;
ØØ 

CopyLesson
∞∞ 
=
∞∞ 
lesson
∞∞ 
;
∞∞ 
}
±± 
public
≥≥ 

Lesson
≥≥ 
GetCopyLesson
≥≥ 
(
≥≥  
)
≥≥  !
{
¥¥ 
foreach
µµ 
(
µµ 
var
µµ 
prop
µµ 
in
µµ 
typeof
µµ #
(
µµ# $
Lesson
µµ$ *
)
µµ* +
.
µµ+ ,
GetProperties
µµ, 9
(
µµ9 :
)
µµ: ;
)
µµ; <
{
∂∂ 	
if
∑∑ 
(
∑∑ 
prop
∑∑ 
.
∑∑ 
Name
∑∑ 
==
∑∑ 
$str
∑∑ '
)
∑∑' (
continue
∑∑) 1
;
∑∑1 2
var
ππ 
value
ππ 
=
ππ 
prop
ππ 
.
ππ 
GetValue
ππ %
(
ππ% &

CopyLesson
ππ& 0
)
ππ0 1
;
ππ1 2
prop
∫∫ 
.
∫∫ 
SetValue
∫∫ 
(
∫∫ 
Lesson
∫∫  
,
∫∫  !
value
∫∫" '
)
∫∫' (
;
∫∫( )
}
ªª 	

CopyLesson
ΩΩ 
=
ΩΩ 
new
ΩΩ 
Lesson
ΩΩ 
(
ΩΩ  
)
ΩΩ  !
;
ΩΩ! " 
NotifyStateChanged
ææ 
(
ææ 
)
ææ 
;
ææ 
return
øø 
Lesson
øø 
;
øø 
}
¿¿ 
public
¬¬ 

async
¬¬ 
void
¬¬ 

UploadFile
¬¬  
(
¬¬  !
IBrowserFile
¬¬! -
file
¬¬. 2
)
¬¬2 3
{
√√ 
if
≈≈ 

(
≈≈ 
Lesson
≈≈ 
.
≈≈ 
IdLesson
≈≈ 
==
≈≈ 
null
≈≈ #
)
≈≈# $
{
∆∆ 	
await
»» 
	AddLesson
»» 
(
»» 
Lesson
»» "
,
»»" #!
SelectedAppointment
»»$ 7
)
»»7 8
;
»»8 9
}
…… 	
var
ÀÀ 
content
ÀÀ 
=
ÀÀ 
new
ÀÀ &
MultipartFormDataContent
ÀÀ 2
(
ÀÀ2 3
)
ÀÀ3 4
;
ÀÀ4 5
var
ŒŒ 
stream
ŒŒ 
=
ŒŒ 
file
ŒŒ 
.
ŒŒ 
OpenReadStream
ŒŒ (
(
ŒŒ( )
maxAllowedSize
ŒŒ) 7
:
ŒŒ7 8
$num
ŒŒ9 ;
*
ŒŒ< =
$num
ŒŒ> B
*
ŒŒC D
$num
ŒŒE I
)
ŒŒI J
;
ŒŒJ K
content
œœ 
.
œœ 
Add
œœ 
(
œœ 
new
œœ 
StreamContent
œœ %
(
œœ% &
stream
œœ& ,
)
œœ, -
,
œœ- .
$str
œœ/ 5
,
œœ5 6
file
œœ7 ;
.
œœ; <
Name
œœ< @
)
œœ@ A
;
œœA B
var
““ 
request
““ 
=
““ 
new
““ 
FileRequest
““ %
{
”” 	
	IdSession
‘‘ 
=
‘‘ 

_userState
‘‘ "
.
‘‘" #
	IdSession
‘‘# ,
,
‘‘, -
}
’’ 	
;
’’	 

var
÷÷ 
json
÷÷ 
=
÷÷ 
JsonSerializer
÷÷ !
.
÷÷! "
	Serialize
÷÷" +
(
÷÷+ ,
request
÷÷, 3
)
÷÷3 4
;
÷÷4 5
content
◊◊ 
.
◊◊ 
Add
◊◊ 
(
◊◊ 
new
◊◊ 
StringContent
◊◊ %
(
◊◊% &
json
◊◊& *
,
◊◊* +
Encoding
◊◊, 4
.
◊◊4 5
UTF8
◊◊5 9
,
◊◊9 :
$str
◊◊; M
)
◊◊M N
,
◊◊N O
$str
◊◊P ]
)
◊◊] ^
;
◊◊^ _
var
ŸŸ 
response
ŸŸ 
=
ŸŸ 
await
⁄⁄ 
_httpClient
⁄⁄ 
.
⁄⁄ 
	PostAsync
⁄⁄ '
(
⁄⁄' (
$"
€€ 
{
€€ 
_configuration
€€ !
[
€€! "
$str
€€" 2
]
€€2 3
}
€€3 4
$str
€€4 G
"
€€G H
,
€€H I
content
€€J Q
)
€€Q R
;
€€R S
if
›› 

(
›› 
response
›› 
.
›› !
IsSuccessStatusCode
›› (
)
››( )
{
ﬁﬁ 	
var
ﬂﬂ 
newDocument
ﬂﬂ 
=
ﬂﬂ 
await
ﬂﬂ #
response
ﬂﬂ$ ,
.
ﬂﬂ, -
Content
ﬂﬂ- 4
.
ﬂﬂ4 5
ReadFromJsonAsync
ﬂﬂ5 F
<
ﬂﬂF G
Document
ﬂﬂG O
>
ﬂﬂO P
(
ﬂﬂP Q
)
ﬂﬂQ R
;
ﬂﬂR S
var
‚‚ 
logjson
‚‚ 
=
‚‚ 
JsonSerializer
‚‚ (
.
‚‚( )
	Serialize
‚‚) 2
(
‚‚2 3
newDocument
‚‚3 >
,
‚‚> ?
new
‚‚@ C#
JsonSerializerOptions
‚‚D Y
{
„„ 
WriteIndented
‰‰ 
=
‰‰ 
true
‰‰ "
,
‰‰" #
IgnoreNullValues
ÂÂ 
=
ÂÂ  
false
ÂÂ! &
}
ÊÊ 
)
ÊÊ 
;
ÊÊ 
Console
ÁÁ 
.
ÁÁ 
	WriteLine
ÁÁ 
(
ÁÁ 
$str
ÁÁ =
+
ÁÁ> ?
logjson
ÁÁ@ G
)
ÁÁG H
;
ÁÁH I
Lesson
ÍÍ 
.
ÍÍ 
	Documents
ÍÍ 
.
ÍÍ 
Add
ÍÍ  
(
ÍÍ  !
newDocument
ÍÍ! ,
)
ÍÍ, -
;
ÍÍ- .
var
ÌÌ 
logList
ÌÌ 
=
ÌÌ 
JsonSerializer
ÌÌ (
.
ÌÌ( )
	Serialize
ÌÌ) 2
(
ÌÌ2 3
Lesson
ÌÌ3 9
.
ÌÌ9 :
	Documents
ÌÌ: C
,
ÌÌC D
new
ÌÌE H#
JsonSerializerOptions
ÌÌI ^
{
ÓÓ 
WriteIndented
ÔÔ 
=
ÔÔ 
true
ÔÔ "
,
ÔÔ" #
IgnoreNullValues
 
=
  
false
! &
}
ÒÒ 
)
ÒÒ 
;
ÒÒ 
Console
ÚÚ 
.
ÚÚ 
	WriteLine
ÚÚ 
(
ÚÚ 
$str
ÚÚ O
+
ÚÚP Q
logList
ÚÚR Y
)
ÚÚY Z
;
ÚÚZ [
await
ÙÙ 
	AddLesson
ÙÙ 
(
ÙÙ 
Lesson
ÙÙ "
,
ÙÙ" #!
SelectedAppointment
ÙÙ$ 7
)
ÙÙ7 8
;
ÙÙ8 9 
NotifyStateChanged
ˆˆ 
(
ˆˆ 
)
ˆˆ  
;
ˆˆ  !
}
˜˜ 	
}
¯¯ 
public
˙˙ 

async
˙˙ 
void
˙˙ 

DeleteFile
˙˙  
(
˙˙  !
Document
˙˙! )
document
˙˙* 2
)
˙˙2 3
{
˚˚ 
var
¸¸ 
newRequestLesson
¸¸ 
=
¸¸ 
new
¸¸ "
RequestLesson
¸¸# 0
{
˝˝ 	
Lesson
˛˛ 
=
˛˛ 
Lesson
˛˛ 
,
˛˛ 
	IdSession
ˇˇ 
=
ˇˇ 

_userState
ˇˇ "
.
ˇˇ" #
	IdSession
ˇˇ# ,
,
ˇˇ, -
Document
ÄÄ 
=
ÄÄ 
document
ÄÄ 
}
ÅÅ 	
;
ÅÅ	 

var
ÉÉ 
response
ÉÉ 
=
ÉÉ 
await
ÑÑ 
_httpClient
ÑÑ 
.
ÑÑ 
PostAsJsonAsync
ÑÑ -
(
ÑÑ- .
$"
ÖÖ 
{
ÖÖ 
_configuration
ÖÖ !
[
ÖÖ! "
$str
ÖÖ" 2
]
ÖÖ2 3
}
ÖÖ3 4
$str
ÖÖ4 J
"
ÖÖJ K
,
ÖÖK L
newRequestLesson
ÖÖM ]
)
ÖÖ] ^
;
ÖÖ^ _
if
áá 

(
áá 
response
áá 
.
áá !
IsSuccessStatusCode
áá (
)
áá( )
{
àà 	$
DeleteDocumentInLesson
ää "
(
ää" #
document
ää# +
)
ää+ ,
;
ää, -
}
ãã 	 
NotifyStateChanged
çç 
(
çç 
)
çç 
;
çç 
}
éé 
public
êê 

async
êê 
void
êê 

RenameFile
êê  
(
êê  !
Document
êê! )
document
êê* 2
)
êê2 3
{
ëë 
var
íí 
response
íí 
=
íí 
await
ìì 
_httpClient
ìì 
.
ìì 
PostAsJsonAsync
ìì -
(
ìì- .
$"
îî 
{
îî 
_configuration
îî !
[
îî! "
$str
îî" 2
]
îî2 3
}
îî3 4
$str
îî4 J
"
îîJ K
,
îîK L
document
îîM U
)
îîU V
;
îîV W
if
ññ 

(
ññ 
response
ññ 
.
ññ !
IsSuccessStatusCode
ññ (
)
ññ( )
{
óó 	
var
òò 
updatedDocument
òò 
=
òò  !
await
òò" '
response
òò( 0
.
òò0 1
Content
òò1 8
.
òò8 9
ReadFromJsonAsync
òò9 J
<
òòJ K
Document
òòK S
>
òòS T
(
òòT U
)
òòU V
;
òòV W$
UploadDocumentInLesson
öö "
(
öö" #
updatedDocument
öö# 2
)
öö2 3
;
öö3 4
}
õõ 	
}
úú 
public
ûû 

async
ûû 
void
ûû $
DeleteDocumentInLesson
ûû ,
(
ûû, -
Document
ûû- 5
document
ûû6 >
)
ûû> ?
{
üü 
var
†† 
newRequestLesson
†† 
=
†† 
new
†† "
RequestLesson
††# 0
{
°° 	
Lesson
¢¢ 
=
¢¢ 
Lesson
¢¢ 
,
¢¢ 
	IdSession
££ 
=
££ 

_userState
££ "
.
££" #
	IdSession
££# ,
,
££, -
Document
§§ 
=
§§ 
document
§§ 
}
•• 	
;
••	 

var
ßß 
response
ßß 
=
ßß 
await
®® 
_httpClient
®® 
.
®® 
PostAsJsonAsync
®® -
(
®®- .
$"
©© 
{
©© 
_configuration
©© !
[
©©! "
$str
©©" 2
]
©©2 3
}
©©3 4
$str
©©4 [
"
©©[ \
,
©©\ ]
newRequestLesson
©©^ n
)
©©n o
;
©©o p
if
´´ 

(
´´ 
response
´´ 
.
´´ !
IsSuccessStatusCode
´´ (
)
´´( )
{
¨¨ 	
var
≠≠ 
deletedDocument
≠≠ 
=
≠≠  !
await
≠≠" '
response
≠≠( 0
.
≠≠0 1
Content
≠≠1 8
.
≠≠8 9
ReadFromJsonAsync
≠≠9 J
<
≠≠J K
Document
≠≠K S
>
≠≠S T
(
≠≠T U
)
≠≠U V
;
≠≠V W
Lesson
ØØ 
.
ØØ 
	Documents
ØØ 
.
ØØ 
	RemoveAll
ØØ &
(
ØØ& '
d
ØØ' (
=>
ØØ) +
d
ØØ, -
.
ØØ- .

IdDocument
ØØ. 8
==
ØØ9 ;
deletedDocument
ØØ< K
.
ØØK L

IdDocument
ØØL V
)
ØØV W
;
ØØW X 
NotifyStateChanged
±± 
(
±± 
)
±±  
;
±±  !
}
≤≤ 	
}
≥≥ 
public
µµ 

async
µµ 
void
µµ $
UploadDocumentInLesson
µµ ,
(
µµ, -
Document
µµ- 5
document
µµ6 >
)
µµ> ?
{
∂∂ 
var
∑∑ 
newRequestLesson
∑∑ 
=
∑∑ 
new
∑∑ "
RequestLesson
∑∑# 0
{
∏∏ 	
Lesson
ππ 
=
ππ 
Lesson
ππ 
,
ππ 
	IdSession
∫∫ 
=
∫∫ 

_userState
∫∫ "
.
∫∫" #
	IdSession
∫∫# ,
,
∫∫, -
Document
ªª 
=
ªª 
document
ªª 
}
ºº 	
;
ºº	 

var
ææ 
response
ææ 
=
ææ 
await
øø 
_httpClient
øø 
.
øø 
PostAsJsonAsync
øø -
(
øø- .
$"
¿¿ 
{
¿¿ 
_configuration
¿¿ !
[
¿¿! "
$str
¿¿" 2
]
¿¿2 3
}
¿¿3 4
$str
¿¿4 [
"
¿¿[ \
,
¿¿\ ]
newRequestLesson
¿¿^ n
)
¿¿n o
;
¿¿o p
if
¬¬ 

(
¬¬ 
response
¬¬ 
.
¬¬ !
IsSuccessStatusCode
¬¬ (
)
¬¬( )
{
√√ 	
var
ƒƒ 
updatedDocument
ƒƒ 
=
ƒƒ  !
await
ƒƒ" '
response
ƒƒ( 0
.
ƒƒ0 1
Content
ƒƒ1 8
.
ƒƒ8 9
ReadFromJsonAsync
ƒƒ9 J
<
ƒƒJ K
Document
ƒƒK S
>
ƒƒS T
(
ƒƒT U
)
ƒƒU V
;
ƒƒV W
var
∆∆ 
index
∆∆ 
=
∆∆ 
Lesson
∆∆ 
.
∆∆ 
	Documents
∆∆ (
.
∆∆( )
	FindIndex
∆∆) 2
(
∆∆2 3
d
∆∆3 4
=>
∆∆5 7
d
∆∆8 9
.
∆∆9 :

IdDocument
∆∆: D
==
∆∆E G
updatedDocument
∆∆H W
.
∆∆W X

IdDocument
∆∆X b
)
∆∆b c
;
∆∆c d
if
»» 
(
»» 
index
»» 
!=
»» 
-
»» 
$num
»» 
)
»» 
{
…… 
Lesson
   
.
   
	Documents
    
[
    !
index
  ! &
]
  & '
=
  ( )
updatedDocument
  * 9
;
  9 : 
NotifyStateChanged
ÀÀ "
(
ÀÀ" #
)
ÀÀ# $
;
ÀÀ$ %
}
ÃÃ 
}
ÕÕ 	
}
ŒŒ 
public
–– 

void
–– 
SetViewDashboard
––  
(
––  !
string
––! '
userId
––( .
)
––. /
{
—— !
UserLessonDisplayed
““ 
=
““ 
userId
““ $
;
““$ %

IsReadOnly
”” 
=
”” 
userId
”” 
!=
”” 
_schedulerState
”” .
.
””. /
IdUser
””/ 5
?
””6 7
true
””8 <
:
””= >
false
””? D
;
””D E
}
‘‘ 
public
÷÷ 

async
÷÷ 
Task
÷÷ 
<
÷÷ 
Document
÷÷ 
>
÷÷ 
GetDocument
÷÷  +
(
÷÷+ ,
string
÷÷, 2
idUser
÷÷3 9
,
÷÷9 :
string
÷÷; A

idDocument
÷÷B L
)
÷÷L M
{
◊◊ 
var
ÿÿ 
newDocument
ÿÿ 
=
ÿÿ 
new
ÿÿ 
Document
ÿÿ &
{
ŸŸ 	

IdDocument
⁄⁄ 
=
⁄⁄ 

idDocument
⁄⁄ #
,
⁄⁄# $
}
€€ 	
;
€€	 

var
›› &
newFileRequestToDatabase
›› $
=
››% &
new
››' *#
FileRequestToDatabase
››+ @
{
ﬁﬁ 	
IdUser
ﬂﬂ 
=
ﬂﬂ 
idUser
ﬂﬂ 
,
ﬂﬂ 
Document
‡‡ 
=
‡‡ 
newDocument
‡‡ "
}
·· 	
;
··	 

var
„„ 
response
„„ 
=
„„ 
await
„„ 
_httpClient
„„ (
.
„„( )
PostAsJsonAsync
„„) 8
(
„„8 9
$"
‰‰ 
{
‰‰ 
_configuration
‰‰ 
[
‰‰ 
$str
‰‰ .
]
‰‰. /
}
‰‰/ 0
$str
‰‰0 J
"
‰‰J K
,
‰‰K L&
newFileRequestToDatabase
‰‰M e
)
‰‰e f
;
‰‰f g
if
ÊÊ 

(
ÊÊ 
response
ÊÊ 
.
ÊÊ !
IsSuccessStatusCode
ÊÊ (
)
ÊÊ( )
{
ÁÁ 	
var
ËË 
document
ËË 
=
ËË 
await
ËË  
response
ËË! )
.
ËË) *
Content
ËË* 1
.
ËË1 2
ReadFromJsonAsync
ËË2 C
<
ËËC D
Document
ËËD L
>
ËËL M
(
ËËM N
)
ËËN O
;
ËËO P
return
ÍÍ 
document
ÍÍ 
;
ÍÍ 
}
ÎÎ 	
return
ÌÌ 
null
ÌÌ 
;
ÌÌ 
}
ÓÓ 
public
 

void
 
ResetLessonState
  
(
  !
)
! "
{
ÒÒ 
Lesson
ÚÚ 
=
ÚÚ 
new
ÚÚ 
Lesson
ÚÚ 
(
ÚÚ 
)
ÚÚ 
;
ÚÚ 

CopyLesson
ÛÛ 
=
ÛÛ 
new
ÛÛ 
Lesson
ÛÛ 
(
ÛÛ  
)
ÛÛ  !
;
ÛÛ! "!
SelectedAppointment
ÙÙ 
=
ÙÙ 
new
ÙÙ !
Appointment
ÙÙ" -
(
ÙÙ- .
)
ÙÙ. /
;
ÙÙ/ 0!
UserLessonDisplayed
ıı 
=
ıı 
null
ıı "
;
ıı" #

IsReadOnly
ˆˆ 
=
ˆˆ 
false
ˆˆ 
;
ˆˆ 
}
˜˜ 
public
˘˘ 

void
˘˘  
NotifyStateChanged
˘˘ "
(
˘˘" #
)
˘˘# $
{
˙˙ 
OnChange
˚˚ 
?
˚˚ 
.
˚˚ 
Invoke
˚˚ 
(
˚˚ 
)
˚˚ 
;
˚˚ 
}
¸¸ 
}˝˝ à
MC:\Users\bapti\RiderProjects\MaClasse\MaClasse.Client\Services\UserService.cs
	namespace 	
MaClasse
 
. 
Client 
. 
Services "
;" #
public 
class 
UserService 
{ 
private		 
readonly		 '
AuthenticationStateProvider		 0(
_authenticationStateProvider		1 M
;		M N
public 

UserService 
( '
AuthenticationStateProvider 2'
authenticationStateProvider3 N
)N O
{ (
_authenticationStateProvider $
=% &'
authenticationStateProvider' B
;B C
} 
public 

async 
Task 
AuthenticateUser &
(& '
UserProfile' 2
user3 7
)7 8
{ 
var 
claims 
= 
new 
List 
< 
Claim #
># $
{ 	
new 
Claim 
( 

ClaimTypes  
.  !
NameIdentifier! /
,/ 0
user1 5
!5 6
.6 7
Id7 9
)9 :
,: ;
new 
Claim 
( 

ClaimTypes  
.  !
Email! &
,& '
user( ,
!, -
.- .
Email. 3
)3 4
,4 5
new 
Claim 
( 

ClaimTypes  
.  !
Name! %
,% &
user' +
!+ ,
., -
Name- 1
)1 2
,2 3
new 
Claim 
( 

ClaimTypes  
.  !
Role! %
,% &
user' +
!+ ,
., -
Role- 1
)1 2
,2 3
new 
Claim 
( 
$str 
, 
user "
!" #
.# $
Zone$ (
)( )
,) *
new 
Claim 
( 

ClaimTypes  
.  !
	GivenName! *
,* +
user, 0
.0 1
	GivenName1 :
): ;
,; <
new 
Claim 
( 

ClaimTypes  
.  !
Surname! (
,( )
user* .
!. /
./ 0

FamilyName0 :
): ;
,; <
new 
Claim 
( 
$str 
,  
user! %
!% &
.& '
Picture' .
). /
,/ 0
new 
Claim 
( 
$str !
,! "
user# '
!' (
.( )
	CreatedAt) 2
.2 3
ToString3 ;
(; <
)< =
!= >
)> ?
,? @
new 
Claim 
( 
$str !
,! "
user# '
!' (
.( )
	UpdatedAt) 2
.2 3
ToString3 ;
(; <
)< =
!= >
)> ?
,? @
} 	
;	 

var   
	principal   
=   
new   
ClaimsPrincipal   +
(  + ,
new  , /
ClaimsIdentity  0 >
(  > ?
claims  ? E
,  E F
$str  G Q
)  Q R
)  R S
;  S T
var## 
authStateProvider## 
=## 
(##  !-
!CustomAuthenticationStateProvider##! B
)##B C(
_authenticationStateProvider##C _
;##_ `
await$$ 
authStateProvider$$ 
.$$  $
NotifyUserAuthentication$$  8
($$8 9
	principal$$9 B
)$$B C
;$$C D
}%% 
}&& Ê'
OC:\Users\bapti\RiderProjects\MaClasse\MaClasse.Client\Services\ServiceLogout.cs
	namespace 	
MaClasse
 
. 
Client 
. 
Services "
;" #
public 
class 
ServiceLogout 
{		 
private

 
readonly

 
IConfiguration

 #
_configuration

$ 2
;

2 3
private 
readonly 
	UserState 

_userState )
;) *
private 
readonly 
SchedulerState #
_schedulerState$ 3
;3 4
private 
readonly 
ViewDashboardState '
_viewDashboardState( ;
;; <
private 
readonly '
AuthenticationStateProvider 0(
_authenticationStateProvider1 M
;M N
private 
readonly 
NavigationManager &
_navigationManager' 9
;9 :
private 
readonly !
ProtectedLocalStorage *"
_protectedLocalStorage+ A
;A B
private 
readonly 
LessonState  
_lessonState! -
;- .
private 
readonly 

HttpClient 
_httpClient  +
;+ ,
public 

ServiceLogout 
( 

HttpClient 

httpClient 
, 
IConfiguration 
configuration $
,$ %
	UserState 
	userState 
, 
SchedulerState 
schedulerState %
,% &
ViewDashboardState 
viewDashboardState -
,- .'
AuthenticationStateProvider #'
authenticationStateProvider$ ?
,? @
NavigationManager 
navigationManager +
,+ ,!
ProtectedLocalStorage !
protectedLocalStorage 3
,3 4
LessonState 
lessonState 
)  
{ 
_configuration 
= 
configuration &
;& '

_userState   
=   
	userState   
;   
_schedulerState!! 
=!! 
schedulerState!! (
;!!( )
_viewDashboardState"" 
="" 
viewDashboardState"" 0
;""0 1(
_authenticationStateProvider## $
=##% &'
authenticationStateProvider##' B
;##B C
_navigationManager$$ 
=$$ 
navigationManager$$ .
;$$. /"
_protectedLocalStorage%% 
=%%  !
protectedLocalStorage%%! 6
;%%6 7
_lessonState&& 
=&& 
lessonState&& "
;&&" #
_configuration'' 
='' 
configuration'' &
;''& '
_httpClient(( 
=(( 

httpClient((  
;((  !
})) 
public++ 

async++ 
void++ 
Logout++ 
(++ 
string++ #
	idSession++$ -
)++- .
{,, 
var.. 
payload.. 
=.. 
JsonContent.. !
...! "
Create.." (
(..( )
new..) ,
{..- .
	IdSession../ 8
=..9 :
	idSession..; D
}..E F
)..F G
;..G H
var00 
response00 
=00 
await00 
_httpClient00 (
.00( )
	PostAsync00) 2
(002 3
$"003 5
{005 6
_configuration006 D
[00D E
$str00E U
]00U V
}00V W
$str00W o
"00o p
,00p q
payload00r y
)00y z
;00z {

_userState33 
.33 
ResetUserState33 !
(33! "
)33" #
;33# $
_viewDashboardState44 
.44 #
ResetViewDashboardState44 3
(443 4
)444 5
;445 6
_schedulerState55 
.55 
ResetSchedulerState55 +
(55+ ,
)55, -
;55- .
_lessonState66 
.66 
ResetLessonState66 %
(66% &
)66& '
;66' (
var:: 
authStateProvider:: 
=:: 
(::  !-
!CustomAuthenticationStateProvider::! B
)::B C(
_authenticationStateProvider::C _
;::_ `
await;; 
authStateProvider;; 
.;;  
NotifyUserLogout;;  0
(;;0 1
);;1 2
;;;2 3
await>> "
_protectedLocalStorage>> $
.>>$ %
DeleteAsync>>% 0
(>>0 1
$str>>1 ?
)>>? @
;>>@ A
if@@ 

(@@ 
response@@ 
.@@ 
IsSuccessStatusCode@@ (
)@@( )
{AA 	
_navigationManagerBB 
.BB 

NavigateToBB )
(BB) *
$strBB* -
)BB- .
;BB. /
}CC 	
}DD 
}EE «=
PC:\Users\bapti\RiderProjects\MaClasse\MaClasse.Client\Services\RefreshService.cs
	namespace 	
MaClasse
 
. 
Client 
. 
Services "
;" #
public 
class 
RefreshService 
{		 
private

 
readonly

 

HttpClient

 
_httpClient

  +
;

+ ,
private 
readonly 
	UserState 

_userState )
;) *
private 
readonly 
NavigationManager &
_navigationManager' 9
;9 :
private 
readonly 
IConfiguration #
_configuration$ 2
;2 3
private 
readonly 
UserService  
_userService! -
;- .
private 
readonly 
SchedulerState #
_schedulerState$ 3
;3 4
public 

RefreshService 
( 

HttpClient 

httpClient 
, 
	UserState 
	userState 
, 
NavigationManager 
navigationManager +
,+ ,
IConfiguration 
configuration $
,$ %
UserService 
userService 
,  
SchedulerState 
schedulerState %
)% &
{ 
_httpClient 
= 

httpClient  
;  !

_userState 
= 
	userState 
; 
_navigationManager 
= 
navigationManager .
;. /
_configuration 
= 
configuration &
;& '
_userService 
= 
userService "
;" #
_schedulerState 
= 
schedulerState (
;( )
} 
public!! 

async!! 
Task!! 
RefreshLogin!! "
(!!" #
string!!# )
?!!) *
resultValue!!+ 6
)!!6 7
{"" 
var## 
response## 
=## 
await## 
_httpClient## (
.##( )
PostAsJsonAsync##) 8
(##8 9
$"$$ 
{$$ 
_configuration$$ 
[$$ 
$str$$ .
]$$. /
}$$/ 0
$str$$0 F
"$$F G
,$$G H
new%% 
{%% 
Token%% 
=%% 
resultValue%% %
}%%& '
)%%' (
;%%( )
if'' 

('' 
response'' 
.'' 
IsSuccessStatusCode'' (
)''( )
{(( 	
var)) 
returnResponse)) 
=))  
await))! &
response))' /
.))/ 0
Content))0 7
.))7 8
ReadFromJsonAsync))8 I
<))I J

AuthReturn))J T
>))T U
())U V
)))V W
;))W X
_userService** 
.** 
AuthenticateUser** )
(**) *
returnResponse*** 8
.**8 9
UserWithRattachment**9 L
.**L M
UserProfile**M X
)**X Y
;**Y Z
var,, 
newUserState,, 
=,, 
new,, "
	UserState,,# ,
{-- 
AccessToken.. 
=.. 
returnResponse.. ,
..., -
UserWithRattachment..- @
...@ A
AccessToken..A L
,..L M
	IdSession// 
=// 
returnResponse// *
.//* +
	IdSession//+ 4
,//4 5
Id00 
=00 
returnResponse00 #
.00# $
UserWithRattachment00$ 7
.007 8
UserProfile008 C
.00C D
Id00D F
,00F G
IdRole11 
=11 
returnResponse11 '
.11' (
UserWithRattachment11( ;
.11; <
UserProfile11< G
.11G H
IdRole11H N
,11N O
Email22 
=22 
returnResponse22 &
.22& '
UserWithRattachment22' :
.22: ;
UserProfile22; F
.22F G
Email22G L
,22L M
Name33 
=33 
returnResponse33 %
.33% &
UserWithRattachment33& 9
.339 :
UserProfile33: E
.33E F
Name33F J
,33J K
Role44 
=44 
returnResponse44 %
.44% &
UserWithRattachment44& 9
.449 :
UserProfile44: E
.44E F
Role44F J
,44J K
Zone55 
=55 
returnResponse55 %
.55% &
UserWithRattachment55& 9
.559 :
UserProfile55: E
.55E F
Zone55F J
,55J K
	GivenName66 
=66 
returnResponse66 *
.66* +
UserWithRattachment66+ >
.66> ?
UserProfile66? J
.66J K
	GivenName66K T
,66T U

FamilyName77 
=77 
returnResponse77 +
.77+ ,
UserWithRattachment77, ?
.77? @
UserProfile77@ K
.77K L

FamilyName77L V
,77V W
Picture88 
=88 
returnResponse88 (
.88( )
UserWithRattachment88) <
.88< =
UserProfile88= H
.88H I
Picture88I P
,88P Q
	CreatedAt99 
=99 
returnResponse99 *
.99* +
UserWithRattachment99+ >
.99> ?
UserProfile99? J
.99J K
	CreatedAt99K T
,99T U
	UpdatedAt:: 
=:: 
returnResponse:: *
.::* +
UserWithRattachment::+ >
.::> ?
UserProfile::? J
.::J K
	UpdatedAt::K T
,::T U
AsDirecteur;; 
=;; 

_userState;; (
.;;( )
SetAsDirecteur;;) 7
(;;7 8
returnResponse;;8 F
.;;F G
UserWithRattachment;;G Z
.;;Z [
AsDirecteur;;[ f
);;f g
,;;g h
AsProfesseur<< 
=<< 
returnResponse<< -
.<<- .
UserWithRattachment<<. A
.<<A B
AsProfesseur<<B N
}== 
;== 
var?? 
newSchedulerState?? !
=??" #
new??$ '
SchedulerState??( 6
{@@ 
IdSchedulerAA 
=AA 
returnResponseAA ,
.AA, -
	SchedulerAA- 6
.AA6 7
IdSchedulerAA7 B
,AAB C
IdUserBB 
=BB 
returnResponseBB '
.BB' (
	SchedulerBB( 1
.BB1 2
IdUserBB2 8
,BB8 9
AppointmentsCC 
=CC 
returnResponseCC -
.CC- .
	SchedulerCC. 7
.CC7 8
AppointmentsCC8 D
,CCD E
	CreatedAtDD 
=DD 
returnResponseDD *
.DD* +
	SchedulerDD+ 4
.DD4 5
	CreatedAtDD5 >
,DD> ?
	UpdatedAtEE 
=EE 
returnResponseEE *
.EE* +
	SchedulerEE+ 4
.EE4 5
	UpdatedAtEE5 >
,EE> ?
SchedulerDisplayedFF "
=FF# $
returnResponseFF% 3
.FF3 4
	SchedulerFF4 =
.FF= >
IdUserFF> D
}GG 
;GG 

_userStateII 
.II 
SetUserII 
(II 
newUserStateII +
)II+ ,
;II, -
_schedulerStateJJ 
.JJ 
SetSchedulerJJ (
(JJ( )
newSchedulerStateJJ) :
)JJ: ;
;JJ; <
_navigationManagerLL 
.LL 

NavigateToLL )
(LL) *
$strLL* 6
)LL6 7
;LL7 8
}MM 	
}NN 
}OO ±
cC:\Users\bapti\RiderProjects\MaClasse\MaClasse.Client\Services\CustomAuthenticationStateProvider.cs
	namespace		 	
MaClasse		
 
.		 
Client		 
.		 
Services		 "
;		" #
public 
class -
!CustomAuthenticationStateProvider .
:/ 0'
AuthenticationStateProvider1 L
{ 
private 
readonly  
IHttpContextAccessor ) 
_httpContextAccessor* >
;> ?
private 
readonly 

HttpClient 
_httpClient  +
;+ ,
private 
readonly !
ProtectedLocalStorage *"
_protectedLocalStorage+ A
;A B
private 
readonly 
IConfiguration #
_configuration$ 2
;2 3
private 
readonly 
IServiceProvider %
_serviceProvider& 6
;6 7
public 
-
!CustomAuthenticationStateProvider ,
(, - 
IHttpContextAccessor 
httpContextAccessor 0
,0 1

HttpClient 

httpClient 
, !
ProtectedLocalStorage !
protectedLocalStorage 3
,3 4
IConfiguration 
configuration $
,$ %
IServiceProvider 
serviceProvider (
)( )
{  
_httpContextAccessor 
= 
httpContextAccessor 2
;2 3
_httpClient 
= 

httpClient  
;  !"
_protectedLocalStorage 
=  !
protectedLocalStorage! 6
;6 7
_configuration 
= 
configuration &
;& '
_serviceProvider 
= 
serviceProvider *
;* +
} 
private!! 
ClaimsPrincipal!! 
_currentUser!! (
=!!) *
new!!+ .
ClaimsPrincipal!!/ >
(!!> ?
new!!? B
ClaimsIdentity!!C Q
(!!Q R
)!!R S
)!!S T
;!!T U
public## 

async## 
override## 
Task## 
<## 
AuthenticationState## 2
>##2 3'
GetAuthenticationStateAsync##4 O
(##O P
)##P Q
{$$ 
return%% 
await%% 
Task%% 
.%% 

FromResult%% $
(%%$ %
new%%% (
AuthenticationState%%) <
(%%< =
_currentUser%%= I
)%%I J
)%%J K
;%%K L
}&& 
public(( 

Task(( $
NotifyUserAuthentication(( (
(((( )
ClaimsPrincipal(() 8
user((9 =
)((= >
{)) 
_currentUser** 
=** 
user** 
;** ,
 NotifyAuthenticationStateChanged++ (
(++( )
Task++) -
.++- .

FromResult++. 8
(++8 9
new++9 <
AuthenticationState++= P
(++P Q
user++Q U
)++U V
)++V W
)++W X
;++X Y
return,, 
Task,, 
.,, 
CompletedTask,, !
;,,! "
}-- 
public// 

Task// 
NotifyUserLogout//  
(//  !
)//! "
{00 
_currentUser11 
=11 
new11 
ClaimsPrincipal11 *
(11* +
new11+ .
ClaimsIdentity11/ =
(11= >
)11> ?
)11? @
;11@ A,
 NotifyAuthenticationStateChanged22 (
(22( )
Task22) -
.22- .

FromResult22. 8
(228 9
new229 <
AuthenticationState22= P
(22P Q
_currentUser22Q ]
)22] ^
)22^ _
)22_ `
;22` a
return33 
Task33 
.33 
CompletedTask33 !
;33! "
}44 
}55 äC
@C:\Users\bapti\RiderProjects\MaClasse\MaClasse.Client\Program.cs
var 
builder 
= 
WebApplication 
. 
CreateBuilder *
(* +
args+ /
)/ 0
;0 1
builder 
. 
Logging 
. 
ClearProviders 
( 
)  
;  !
builder 
. 
Logging 
. 

AddConsole 
( 
) 
; 
builder 
. 
Services 
. 
AddDataProtection "
(" #
)# $
. #
PersistKeysToFileSystem 
( 
new  
DirectoryInfo! .
(. /
$str/ :
): ;
); <
. 
SetApplicationName 
( 
$str ,
), -
;- .
builder 
. 
Services 
. "
AddHttpContextAccessor '
(' (
)( )
;) *
builder 
. 
Services 
. 
	AddScoped 
< 
ServiceLogout (
>( )
() *
)* +
;+ ,
builder 
. 
Services 
. 
	AddScoped 
< 
RefreshService )
>) *
(* +
)+ ,
;, -
builder 
. 
Services 
. 
	AddScoped 
< 
UserService &
>& '
(' (
)( )
;) *
builder 
. 
Services 
. 
AddSingleton 
< 
	UserState '
>' (
(( )
)) *
;* +
builder 
. 
Services 
. 
	AddScoped 
< 
SchedulerState )
>) *
(* +
)+ ,
;, -
builder 
. 
Services 
. 
	AddScoped 
< 
ViewDashboardState -
>- .
(. /
)/ 0
;0 1
builder 
. 
Services 
. 
	AddScoped 
< 
LessonState &
>& '
(' (
)( )
;) *
builder 
. 
Services 
. 
AddSingleton 
<  
IHttpContextAccessor 2
,2 3
HttpContextAccessor4 G
>G H
(H I
)I J
;J K
builder"" 
."" 
Services"" 
."" 
	Configure"" 
<"" 
CircuitOptions"" )
>"") *
(""* +
options""+ 2
=>""3 5
{## 
options$$ 
.$$ 
DetailedErrors$$ 
=$$ 
true$$ !
;$$! "
}%% 
)%% 
;%% 
builder(( 
.(( 
Services(( 
.(( 
AddRadzenComponents(( $
((($ %
)((% &
;((& '
builder++ 
.++ 
Services++ 
.++ 
AddMudServices++ 
(++  
)++  !
;++! "
builder.. 
... 
Services.. 
... 
	AddScoped.. 
<.. '
AuthenticationStateProvider.. 6
,..6 7-
!CustomAuthenticationStateProvider..8 Y
>..Y Z
(..Z [
)..[ \
;..\ ]
builder11 
.11 
Services11 
.11 
AddCors11 
(11 
options11  
=>11! #
{22 
options33 
.33 
	AddPolicy33 
(33 
$str33  
,33  !
builder44 
=>44 
{55 	
builder66 
.66 
AllowAnyOrigin66 "
(66" #
)66# $
.77 
AllowAnyMethod77 
(77  
)77  !
.88 
AllowAnyHeader88 
(88  
)88  !
;88! "
}99 	
)99	 

;99
 
}:: 
):: 
;:: 
builder>> 
.>> 
Services>> 
.>> 
AddAuthentication>> "
(>>" #(
CookieAuthenticationDefaults>># ?
.>>? @ 
AuthenticationScheme>>@ T
)>>T U
.?? 
	AddCookie?? 
(?? 
options?? 
=>?? 
{@@ 
optionsAA 
.AA 
	LoginPathAA 
=AA 
$strAA 
;AA  
optionsBB 
.BB 
CookieBB 
.BB 
HttpOnlyBB 
=BB  !
trueBB" &
;BB& '
optionsCC 
.CC 
CookieCC 
.CC 
SecurePolicyCC #
=CC$ %
CookieSecurePolicyCC& 8
.CC8 9
AlwaysCC9 ?
;CC? @
}DD 
)DD 
;DD 
builderFF 
.FF 
ServicesFF 
.FF 
AddHttpClientFF 
(FF 
)FF  
;FF  !
builderHH 
.HH 
ServicesHH 
.HH  
AddAuthorizationCoreHH %
(HH% &
)HH& '
;HH' (
builderKK 
.KK 
ServicesKK 
.KK 
AddRazorComponentsKK #
(KK# $
)KK$ %
.LL *
AddInteractiveServerComponentsLL #
(LL# $
)LL$ %
;LL% &
builderNN 
.NN 
ServicesNN 
.NN 
AddAntiforgeryNN 
(NN  
)NN  !
;NN! "
varPP 
appPP 
=PP 	
builderPP
 
.PP 
BuildPP 
(PP 
)PP 
;PP 
appRR 
.RR 
UseCorsRR 
(RR 
$strRR 
)RR 
;RR 
appTT 
.TT "
UseRequestLocalizationTT 
(TT 
newTT &
RequestLocalizationOptionsTT 9
{UU !
DefaultRequestCultureVV 
=VV 
newVV 
RequestCultureVV  .
(VV. /
$strVV/ 6
)VV6 7
,VV7 8
SupportedCulturesWW 
=WW 
newWW 
[WW 
]WW 
{WW  
newWW! $
CultureInfoWW% 0
(WW0 1
$strWW1 8
)WW8 9
}WW: ;
,WW; <
SupportedUICulturesXX 
=XX 
newXX 
[XX  
]XX  !
{XX" #
newXX$ '
CultureInfoXX( 3
(XX3 4
$strXX4 ;
)XX; <
}XX= >
,XX> ?
}YY 
)YY 
;YY 
app[[ 
.[[ %
UseDeveloperExceptionPage[[ 
([[ 
)[[ 
;[[  
app]] 
.]] 
UseWebSockets]] 
(]] 
)]] 
;]] 
app__ 
.__ 

UseRouting__ 
(__ 
)__ 
;__ 
appaa 
.aa 
UseAuthenticationaa 
(aa 
)aa 
;aa 
appbb 
.bb 
UseAuthorizationbb 
(bb 
)bb 
;bb 
appdd 
.dd 
UseAntiforgerydd 
(dd 
)dd 
;dd 
appff 
.ff 
MapRazorComponentsff 
<ff 
Appff 
>ff 
(ff 
)ff 
.gg *
AddInteractiveServerRenderModegg #
(gg# $
)gg$ %
;gg% &
apphh 
.hh 
MapStaticAssetshh 
(hh 
)hh 
;hh 
appkk 
.kk 
UseStatusCodePageskk 
(kk 
asynckk 
contextkk $
=>kk% '
{ll 
ifmm 
(mm 
contextmm 
.mm 
HttpContextmm 
.mm 
Responsemm $
.mm$ %

StatusCodemm% /
==mm0 2
$nummm3 6
)mm6 7
{nn 
contextpp 
.pp 
HttpContextpp 
.pp 
Responsepp $
.pp$ %
Redirectpp% -
(pp- .
$strpp. 9
)pp9 :
;pp: ;
}qq 
}rr 
)rr 
;rr 
apptt 
.tt 
Runtt 
(tt 
)tt 	
;tt	 
˙
TC:\Users\bapti\RiderProjects\MaClasse\MaClasse.Client\Components\Utils\Hour.razor.cs
	namespace 	
MaClasse
 
. 
Client 
. 

Components $
.$ %
Utils% *
;* +
public 
partial 
class 
Hour 
: 
ComponentBase )
{ 
private 
string 
heure 
= 
$str 
; 
private		 
System		 
.		 
Timers		 
.		 
Timer		 
?		  
timer		! &
;		& '
	protected 
override 
void 
OnInitialized )
() *
)* +
{ 
MettreAJourHeure 
( 
) 
; 
timer 
= 
new 
System 
. 
Timers !
.! "
Timer" '
(' (
$num( ,
), -
;- .
timer 
. 
Elapsed 
+= 
( 
sender  
,  !
args" &
)& '
=>( *
{ 	
MettreAJourHeure 
( 
) 
; 
InvokeAsync 
( 
StateHasChanged '
)' (
;( )
} 	
;	 

timer 
. 
Start 
( 
) 
; 
} 
private 
void 
MettreAJourHeure !
(! "
)" #
{ 
var 
fuseauHoraire 
= 
TimeZoneInfo (
.( )"
FindSystemTimeZoneById) ?
(? @
$str@ W
)W X
;X Y
var 

maintenant 
= 
TimeZoneInfo %
.% &
ConvertTime& 1
(1 2
DateTimeOffset2 @
.@ A
UtcNowA G
,G H
fuseauHoraireI V
)V W
;W X
heure 
= 

maintenant 
. 
ToString #
(# $
$str$ +
)+ ,
;, -
} 
public 

void 
Dispose 
( 
) 
{   
timer!! 
?!! 
.!! 
Stop!! 
(!! 
)!! 
;!! 
timer"" 
?"" 
."" 
Dispose"" 
("" 
)"" 
;"" 
}## 
}$$ Ö
TC:\Users\bapti\RiderProjects\MaClasse\MaClasse.Client\Components\Utils\Date.razor.cs
	namespace 	
MaClasse
 
. 
Client 
. 

Components $
.$ %
Utils% *
;* +
public 
partial 
class 
Date 
: 
ComponentBase )
{ 
private 
string 

dateDuJour 
= 
$str  "
;" #
	protected		 
override		 
void		 
OnInitialized		 )
(		) *
)		* +
{

 
var 
culture 
= 
new 
System  
.  !
Globalization! .
.. /
CultureInfo/ :
(: ;
$str; B
)B C
;C D
var 
date 
= 
DateTime 
. 
Now 
;  

dateDuJour 
= 
date 
. 
ToString "
(" #
$str# 5
,5 6
culture7 >
)> ?
;? @

dateDuJour 
= 
char 
. 
ToUpper !
(! "

dateDuJour" ,
[, -
$num- .
]. /
)/ 0
+1 2

dateDuJour3 =
.= >
	Substring> G
(G H
$numH I
)I J
;J K
} 
} ¥
TC:\Users\bapti\RiderProjects\MaClasse\MaClasse.Client\Components\Pages\Home.razor.cs
	namespace 	
MaClasse
 
. 
Client 
. 

Components $
.$ %
Pages% *
;* +
public 
partial 
class 
Home 
: 
ComponentBase )
{ 
private		 
readonly		 
RefreshService		 #
_refreshService		$ 3
;		3 4
private

 
readonly

 !
ProtectedLocalStorage

 *"
_protectedLocalStorage

+ A
;

A B
private 
bool 
isCheckingAuth 
=  !
true" &
;& '
public 

Home 
( 
RefreshService 
refreshService %
,% &!
ProtectedLocalStorage !
protectedLocalStorage 3
)3 4
{ 
_refreshService 
= 
refreshService (
;( )"
_protectedLocalStorage 
=  !
protectedLocalStorage! 6
;6 7
} 
	protected 
override 
async 
Task !
OnAfterRenderAsync" 4
(4 5
bool5 9
firstRender: E
)E F
{ 
if 

( 
firstRender 
) 
{ 	
var 
result 
= 
await "
_protectedLocalStorage 5
.5 6
GetAsync6 >
<> ?
string? E
>E F
(F G
$strG U
)U V
;V W
if 
( 
result 
. 
Success 
) 
{ 
await 
_refreshService %
.% &
RefreshLogin& 2
(2 3
result3 9
.9 :
Value: ?
)? @
;@ A
}   
isCheckingAuth"" 
="" 
false"" "
;""" #
StateHasChanged## 
(## 
)## 
;## 
}$$ 	
}%% 
}&& ƒT
\C:\Users\bapti\RiderProjects\MaClasse\MaClasse.Client\Components\Pages\DocumentView.razor.cs
	namespace 	
MaClasse
 
. 
Client 
. 

Components $
.$ %
Pages% *
;* +
public		 
partial		 
class		 
DocumentView		 !
:		" #
ComponentBase		$ 1
{

 
private 	
readonly
 
LessonState 
_lessonState +
;+ ,
private 	
readonly
 

IJSRuntime 

_jsRuntime (
;( )
private 	
readonly
 
ILogger 
< 
DocumentView '
>' (
_logger) 0
;0 1
public 
DocumentView	 
( 
LessonState 
lessonState 
, 

IJSRuntime 
	jsRuntime 
, 
ILogger 
< 
DocumentView 
> 
logger  
)  !
{ 
_lessonState 
= 
lessonState 
; 

_jsRuntime 
= 
	jsRuntime 
; 
_logger 
= 
logger 
; 
} 
private 	
static
 
readonly 
string  
[  !
]! "
ImageFormats# /
=0 1
{2 3
$str4 9
,9 :
$str; @
,@ A
$strB H
,H I
$strJ O
,O P
$strQ V
,V W
$strX ^
,^ _
$str` k
,k l
$strm y
}z {
;{ |
private 	
bool
 
IsImage 
( 
string 
format $
)$ %
=> 
! 
string 
. 
IsNullOrEmpty 
( 
format #
)# $
&&% '
ImageFormats( 4
.4 5
Any5 8
(8 9
f9 :
=>; =
f> ?
.? @
Equals@ F
(F G
formatG M
,M N
StringComparisonO _
._ `
OrdinalIgnoreCase` q
)q r
)r s
;s t
private 	
bool
 
IsPdf 
( 
string 
format "
)" #
=>$ &
!   
string   
.   
IsNullOrEmpty   
(   
format    
)    !
&&  " $
(!! 
format!! 
.!! 
Equals!! 
(!! 
$str!! 
,!! 
StringComparison!! *
.!!* +
OrdinalIgnoreCase!!+ <
)!!< =
||!!> @
format"" 
."" 
Equals"" 
("" 
$str"" $
,""$ %
StringComparison""& 6
.""6 7
OrdinalIgnoreCase""7 H
)""H I
)""I J
;""J K
[$$ 
	Parameter$$ 
]$$ 
public$$ 
string$$ 
ConcatString$$ (
{$$) *
get$$+ .
;$$. /
set$$0 3
;$$3 4
}$$5 6
private&& 	
Document&&
 
document&& 
;&& 
private'' 	
bool''
 
	isLoading'' 
='' 
true'' 
;''  
private)) 	
string))
 

PdfViewUrl)) 
{** 
get++ 
{,, 
if-- 
(--	 

document--
 
?-- 
.-- 
Url-- 
==-- 
null-- 
)--  
return--! '
null--( ,
;--, -
return44 
$"44 
{44 
document44 
.44 
Url44 
}44 
"44 
;44 
}55 
}66 
private99 	
double99
 
currentZoom99 
=99 
$num99 "
;99" #
private:: 	
const::
 
double:: 
	ZOOM_STEP::  
=::! "
$num::# &
;::& '
private;; 	
const;;
 
double;; 
MAX_ZOOM;; 
=;;  !
$num;;" %
;;;% &
private<< 	
const<<
 
double<< 
MIN_ZOOM<< 
=<<  !
$num<<" %
;<<% &
private?? 	
ElementReference??
  
documentContainerRef?? /
;??/ 0
private@@ 	
bool@@
 
isFullscreen@@ 
=@@ 
false@@ #
;@@# $
	protectedBB 
overrideBB 
asyncBB 
TaskBB 
OnInitializedAsyncBB  2
(BB2 3
)BB3 4
{CC 
awaitDD 	
LoadDocumentAsyncDD
 
(DD 
)DD 
;DD 
}EE 
privateGG 	
asyncGG
 
TaskGG 
LoadDocumentAsyncGG &
(GG& '
)GG' (
{HH 
	isLoadingII 
=II 
trueII 
;II 
documentJJ 
=JJ 
nullJJ 
;JJ 
tryLL 
{MM 
varNN 	
decodedStringNN
 
=NN 
EncodingNN "
.NN" #
UTF8NN# '
.NN' (
	GetStringNN( 1
(NN1 2
ConvertNN2 9
.NN9 :
FromBase64StringNN: J
(NNJ K
ConcatStringNNK W
)NNW X
)NNX Y
.NNY Z
SplitNNZ _
(NN_ `
$strNN` c
)NNc d
;NNd e
_loggerQQ 
.QQ 
LogInformationQQ 
(QQ 
$strQQ `
,QQ` a
ConcatStringQQb n
)QQn o
;QQo p
ConsoleRR 
.RR 
	WriteLineRR 
(RR 
$"RR 
$strRR U
{RRU V
ConcatStringRRV b
}RRb c
"RRc d
)RRd e
;RRe f
_loggerVV 
.VV 
LogInformationVV 
(VV 
$strVV b
,VVb c
decodedStringVVd q
!=VVr t
nullVVu y
?VVz {
string	VV| Ç
.
VVÇ É
Join
VVÉ á
(
VVá à
$str
VVà ã
,
VVã å
decodedString
VVç ö
)
VVö õ
:
VVú ù
$str
VVû §
)
VV§ •
;
VV• ¶
documentYY 
=YY 
awaitYY 
_lessonStateYY #
.YY# $
GetDocumentYY$ /
(YY/ 0
decodedStringYY0 =
[YY= >
$numYY> ?
]YY? @
,YY@ A
decodedStringYYB O
[YYO P
$numYYP Q
]YYQ R
)YYR S
;YYS T
_logger[[ 
.[[ 
LogInformation[[ 
([[ 
$str	[[ Å
,
[[Å Ç
document
[[É ã
.
[[ã å
Name
[[å ê
,
[[ê ë
document
[[í ö
.
[[ö õ

IdDocument
[[õ •
,
[[• ¶
document
[[ß Ø
.
[[Ø ∞
Url
[[∞ ≥
)
[[≥ ¥
;
[[¥ µ
}\\ 
catch]] 	
(]]
 
	Exception]] 
ex]] 
)]] 
{^^ 
Console__ 
.__ 
	WriteLine__ 
(__ 
$"__ 
$str__ 6
{__6 7
ex__7 9
.__9 :
Message__: A
}__A B
"__B C
)__C D
;__D E
}`` 
finallyaa 
{bb 
	isLoadingcc 
=cc 
falsecc 
;cc 
awaitdd 
InvokeAsyncdd 
(dd 
StateHasChangeddd '
)dd' (
;dd( )
}ee 
}ff 
privatehh 	
asynchh
 
Taskhh 
ToggleFullscreenhh %
(hh% &
)hh& '
{ii 
ifjj 
(jj  
documentContainerRefjj 
.jj 
Idjj 
==jj  "
nulljj# '
)jj' (
returnjj) /
;jj/ 0
ifll 
(ll 
!ll 	
isFullscreenll	 
)ll 
{mm 
awaitnn 

_jsRuntimenn 
.nn 
InvokeVoidAsyncnn &
(nn& '
$strnn' :
,nn: ; 
documentContainerRefnn< P
)nnP Q
;nnQ R
isFullscreenoo 
=oo 
trueoo 
;oo 
}pp 
elseqq 
{rr 
awaitss 

_jsRuntimess 
.ss 
InvokeVoidAsyncss &
(ss& '
$strss' 7
)ss7 8
;ss8 9
isFullscreentt 
=tt 
falsett 
;tt 
}uu 
}vv 
privatexx 	
voidxx
 
ZoomInxx 
(xx 
)xx 
{yy 
doublezz 

newZoomzz 
=zz 
Mathzz 
.zz 
Minzz 
(zz 
currentZoomzz )
+zz* +
	ZOOM_STEPzz, 5
,zz5 6
MAX_ZOOMzz7 ?
)zz? @
;zz@ A
currentZoom{{ 
={{ 
Math{{ 
.{{ 
Round{{ 
({{ 
newZoom{{ $
,{{$ %
$num{{& '
){{' (
;{{( )
StateHasChanged|| 
(|| 
)|| 
;|| 
}~~ 
private
ÄÄ 	
void
ÄÄ
 
ZoomOut
ÄÄ 
(
ÄÄ 
)
ÄÄ 
{
ÅÅ 
double
ÇÇ 

newZoom
ÇÇ 
=
ÇÇ 
Math
ÇÇ 
.
ÇÇ 
Max
ÇÇ 
(
ÇÇ 
currentZoom
ÇÇ )
-
ÇÇ* +
	ZOOM_STEP
ÇÇ, 5
,
ÇÇ5 6
MIN_ZOOM
ÇÇ7 ?
)
ÇÇ? @
;
ÇÇ@ A
currentZoom
ÉÉ 
=
ÉÉ 
Math
ÉÉ 
.
ÉÉ 
Round
ÉÉ 
(
ÉÉ 
newZoom
ÉÉ $
,
ÉÉ$ %
$num
ÉÉ& '
)
ÉÉ' (
;
ÉÉ( )
StateHasChanged
ÑÑ 
(
ÑÑ 
)
ÑÑ 
;
ÑÑ 
}
ÜÜ 
private
àà 	
void
àà
 
	ResetZoom
àà 
(
àà 
)
àà 
{
ââ 
currentZoom
ää 
=
ää 
$num
ää 
;
ää 
StateHasChanged
ãã 
(
ãã 
)
ãã 
;
ãã 
}
çç 
private
èè 	
async
èè
 
void
èè 
CloseDocumentView
èè &
(
èè& '
)
èè' (
{
êê 
await
ëë 	

_jsRuntime
ëë
 
.
ëë 
InvokeVoidAsync
ëë $
(
ëë$ %
$str
ëë% 6
)
ëë6 7
;
ëë7 8
}
ìì 
}îî °
YC:\Users\bapti\RiderProjects\MaClasse\MaClasse.Client\Components\Pages\Dashboard.razor.cs
	namespace 	
MaClasse
 
. 
Client 
. 

Components $
.$ %
Pages% *
;* +
public 
partial 
class 
	Dashboard 
:  
ComponentBase! .
{ 
private		 
readonly		 
	UserState		 

_userState		 )
;		) *
private

 
readonly

 '
AuthenticationStateProvider

 0(
_authenticationStateProvider

1 M
;

M N
public 

	Dashboard 
( 
	UserState 
	userState 
, '
AuthenticationStateProvider #'
authenticationStateProvider$ ?
)? @
{ 

_userState 
= 
	userState 
; (
_authenticationStateProvider $
=% &'
authenticationStateProvider' B
;B C
} 
private 
	UserState 
? 
userInformation &
;& '
	protected 
override 
async 
Task !
OnInitializedAsync" 4
(4 5
)5 6
{ 

_userState 
. 
OnChange 
+= "
HandleUserStateChanged 5
;5 6
var 
	authState 
= 
await (
_authenticationStateProvider :
.: ;'
GetAuthenticationStateAsync; V
(V W
)W X
;X Y
var 
user 
= 
	authState 
. 
User !
;! "
if 

( 
user 
. 
Identity 
is 
{ 
IsAuthenticated .
:. /
true0 4
}5 6
)6 7
{ 	
userInformation 
= 

_userState (
.( )
GetUser) 0
(0 1
)1 2
;2 3
}   	
}!! 
private## 
void## "
HandleUserStateChanged## '
(##' (
)##( )
{$$ 
userInformation%% 
=%% 

_userState%% $
.%%$ %
GetUser%%% ,
(%%, -
)%%- .
;%%. /
InvokeAsync&& 
(&& 
StateHasChanged&& #
)&&# $
;&&$ %
}'' 
public)) 

void)) 
Dispose)) 
()) 
))) 
{** 

_userState++ 
.++ 
OnChange++ 
-=++ "
HandleUserStateChanged++ 5
;++5 6
},, 
}-- ∆	
aC:\Users\bapti\RiderProjects\MaClasse\MaClasse.Client\Components\Errors\ErrorLoginDialog.razor.cs
	namespace 	
MaClasse
 
. 
Client 
. 

Components $
.$ %
Errors% +
;+ ,
public 
partial 
class 
ErrorLoginDialog %
:& '
ComponentBase( 5
{ 
[		 
CascadingParameter		 
]		 
private

 
IMudDialogInstance

 
?

 
	MudDialog

  )
{

* +
get

, /
;

/ 0
set

1 4
;

4 5
}

6 7
[ 
	Parameter 
] 
public 

UserProfile 
Message 
{  
get! $
;$ %
set& )
;) *
}+ ,
private 
void 
Close 
( 
) 
{ 
	MudDialog 
? 
. 
Close 
( 
DialogResult %
.% &
Ok& (
(( )
true) -
)- .
). /
;/ 0
} 
} ú)
mC:\Users\bapti\RiderProjects\MaClasse\MaClasse.Client\Components\DashboardContent\Menu\ViewDashBoard.razor.cs
	namespace 	
MaClasse
 
. 
Client 
. 

Components $
.$ %
DashboardContent% 5
.5 6
Menu6 :
;: ;
public		 
partial		 
class		 
ViewDashBoard		 "
:		# $
ComponentBase		% 2
{

 
private 
readonly 
	UserState 

_userState )
;) *
private 
readonly 
ViewDashboardState '
_viewDashboardState( ;
;; <
private 
readonly 
SchedulerState #
_schedulerState$ 3
;3 4
private 
readonly 

HttpClient 
_httpClient  +
;+ ,
private 
readonly 
IConfiguration #
_configuration$ 2
;2 3
private 
readonly 
LessonState  
_lessonState! -
;- .
public 

ViewDashBoard 
( 
	UserState 
	userState 
, 
ViewDashboardState 
viewDashboardState -
,- .
SchedulerState 
schedulerState %
,% &

HttpClient 

httpClient 
, 
IConfiguration 
configuration $
,$ %
LessonState 
lessonState 
)  
{ 

_userState 
= 
	userState 
; 
_viewDashboardState 
= 
viewDashboardState 0
;0 1
_schedulerState 
= 
schedulerState (
;( )
_httpClient 
= 

httpClient  
;  !
_configuration 
= 
configuration &
;& '
_lessonState 
= 
lessonState "
;" #
}   
private"" 
List"" 
<"" 
UserDashboard"" 
>"" 

Dashboards""  *
;""* +
private## 
static## 
string## 
_buttonTextOwner## *
=##+ ,
$str##- 3
;##3 4
private$$ 
string$$ 
_buttonText$$ 
=$$  
_buttonTextOwner$$! 1
;$$1 2
	protected'' 
override'' 
async'' 
Task'' !
OnInitializedAsync''" 4
(''4 5
)''5 6
{(( 
_viewDashboardState)) 
.)) 
OnChange)) $
+=))% '!
RefreshViewDashboards))( =
;))= >
}** 
private,, 
void,, !
RefreshViewDashboards,, &
(,,& '
),,' (
{-- 

Dashboards.. 
=.. 
_viewDashboardState.. (
...( )

DashBoards..) 3
.// 
Select// 
(// 
d// 
=>// 
new// 
UserDashboard// *
{00 
UserId11 
=11 
d11 
.11 
UserId11 !
,11! "
	UserEmail22 
=22 
d22 
.22 
	UserEmail22 '
,22' (
UserName33 
=33 
d33 
.33 
UserName33 %
,33% &
UserScheduler44 
=44 
d44  !
.44! "
UserScheduler44" /
}44/ 0
)440 1
.55 
ToList55 
(55 
)55 
;55 
InvokeAsync77 
(77 
(77 
)77 
=>77 
{77 
StateHasChanged77 +
(77+ ,
)77, -
;77- .
}77/ 0
)770 1
;771 2
}88 
	protected:: 
override:: 
async:: 
Task:: !
OnAfterRenderAsync::" 4
(::4 5
bool::5 9
firstRender::: E
)::E F
{;; 
if<< 

(<< 
firstRender<< 
)<< 
{== 	
_viewDashboardState@@ 
.@@ (
GetViewDashboardFromDatabase@@ 8
(@@8 9
)@@9 :
;@@: ;
}BB 	
}CC 
privateEE 
voidEE 
SetButtonTextEE 
(EE 
stringEE %
userNameEE& .
,EE. /
stringEE0 6
userIdEE7 =
)EE= >
{FF 
_buttonTextGG 
=GG 
userNameGG 
;GG 
_lessonStateHH 
.HH 
ResetLessonStateHH %
(HH% &
)HH& '
;HH' (
_schedulerStateII 
.II 
SetViewDashboardII (
(II( )
userIdII) /
)II/ 0
;II0 1
_lessonStateJJ 
.JJ 
SetViewDashboardJJ %
(JJ% &
userIdJJ& ,
)JJ, -
;JJ- .
_viewDashboardStateKK 
.KK 
GetUserAppointmentsKK /
(KK/ 0
userIdKK0 6
)KK6 7
;KK7 8
}NN 
}OO ¬
gC:\Users\bapti\RiderProjects\MaClasse\MaClasse.Client\Components\DashboardContent\Menu\TopMenu.razor.cs
	namespace 	
MaClasse
 
. 
Client 
. 

Components $
.$ %
DashboardContent% 5
.5 6
Menu6 :
;: ;
public 
partial 
class 
TopMenu 
: 
ComponentBase ,
{		 
private

 
readonly

 
IDialogService

 #
_dialogService

$ 2
;

2 3
private 
readonly 
ServiceLogout "
_serviceLogout# 1
;1 2
private 
readonly 
	UserState 

_userState )
;) *
public 

TopMenu 
( 
IDialogService 
dialogService $
,$ %
ServiceLogout 
serviceLogout #
,# $
	UserState 
	userState 
) 
{ 
_dialogService 
= 
dialogService &
;& '
_serviceLogout 
= 
serviceLogout &
;& '

_userState 
= 
	userState 
; 
} 
public 

string 
Picture 
=> 

_userState '
.' (
Picture( /
;/ 0
public 

string 
Email 
=> 

_userState %
.% &
Email& +
;+ ,
public 

async 
Task 
OpenProfileDialog '
(' (
)( )
{ 
var 
options 
= 
new 
DialogOptions '
{ 	
CloseOnEscapeKey   
=   
true   #
,  # $
CloseButton!! 
=!! 
true!! 
,!! 
	FullWidth"" 
="" 
true"" 
,"" 
MaxWidth## 
=## 
MaxWidth## 
.##  
Small##  %
,##% &
}$$ 	
;$$	 

var'' 
dialog'' 
='' 
await'' 
_dialogService'' )
.'') *
	ShowAsync''* 3
<''3 4
ProfileDialog''4 A
>''A B
(''B C
$str''C E
,''E F
options''G N
)''N O
;''O P
await(( 
dialog(( 
.(( 
Result(( 
;(( 
StateHasChanged** 
(** 
)** 
;** 
}++ 
public-- 

async-- 
Task-- 
Logout-- 
(-- 
)-- 
{.. 
_serviceLogout// 
.// 
Logout// 
(// 

_userState// (
.//( )
	IdSession//) 2
)//2 3
;//3 4
}00 
}11 ¨≥
mC:\Users\bapti\RiderProjects\MaClasse\MaClasse.Client\Components\DashboardContent\Menu\ProfileDialog.razor.cs
	namespace 	
MaClasse
 
. 
Client 
. 

Components $
.$ %
DashboardContent% 5
.5 6
Menu6 :
;: ;
public

 
partial

 
class

 
ProfileDialog

 "
:

# $
ComponentBase

% 2
{ 
private 
readonly 
IDialogService #
_dialogService$ 2
;2 3
private 
readonly 
ServiceLogout "
_serviceLogout# 1
;1 2
private 
readonly 
NavigationManager &
_navigationManager' 9
;9 :
private 
readonly 
	UserState 

_userState )
;) *
private 
readonly 
ViewDashboardState '
_viewDashboardState( ;
;; <
private 
readonly 

HttpClient 
_httpClient  +
;+ ,
private 
readonly 
IConfiguration #
_configuration$ 2
;2 3
public 

ProfileDialog 
( 
	UserState 
	userState 
, 
ViewDashboardState 
viewDashboardState -
,- .

HttpClient 

httpClient 
, 
IConfiguration 
configuration $
,$ %
IDialogService 
dialogService $
,$ %
ServiceLogout 
serviceLogout #
,# $
NavigationManager 
navigationManager +
)+ ,
{ 

_userState 
= 
	userState 
; 
_viewDashboardState 
= 
viewDashboardState 0
;0 1
_httpClient 
= 

httpClient  
;  !
_configuration   
=   
configuration   &
;  & '
_dialogService!! 
=!! 
dialogService!! &
;!!& '
_serviceLogout"" 
="" 
serviceLogout"" &
;""& '
_navigationManager## 
=## 
navigationManager## .
;##. /
}$$ 
[&& 
CascadingParameter&& 
]&& 
private&&  
IMudDialogInstance&&! 3
?&&3 4
	MudDialog&&5 >
{&&? @
get&&A D
;&&D E
set&&F I
;&&I J
}&&K L
public(( 

string(( 
Email(( 
=>(( 

_userState(( %
.((% &
Email((& +
;((+ ,
public)) 

string)) 
Role)) 
=>)) 

_userState)) $
.))$ %
Role))% )
;))) *
public** 

string** 
Zone** 
=>** 

_userState** $
.**$ %
Zone**% )
;**) *
private++ 
string++ 
IdRole++ 
=>++ 

_userState++ '
.++' (
IdRole++( .
;++. /
public,, 

List,, 
<,, 
Rattachment,, 
>,, 
AsDirecteur,, (
=>,,) +

_userState,,, 6
.,,6 7
AsDirecteur,,7 B
;,,B C
public-- 

List-- 
<-- 
Rattachment-- 
>-- 
AsProfesseur-- )
=>--* ,

_userState--- 7
.--7 8
AsProfesseur--8 D
;--D E
public.. 

string.. 
AddDirecteurValue.. #
;..# $
public// 

string//  
DeleteDirecteurValue// &
;//& '
public00 

string00 
AddProfesseurValue00 $
;00$ %
public11 

string11 !
DeleteProfesseurValue11 '
;11' (
public33 

void33 
ClosePolicy33 
(33 
)33 
{44 
	MudDialog55 
?55 
.55 
Close55 
(55 
DialogResult55 %
.55% &
Ok55& (
(55( )
true55) -
)55- .
)55. /
;55/ 0
}66 
private88 
async88 
void88 
ChangeProfil88 #
(88# $
)88$ %
{99 
var;; 
response;; 
=;; 
await;; 
_httpClient;; (
.;;( )
PostAsJsonAsync;;) 8
(;;8 9
$"<< 
{<< 
_configuration<< 
[<< 
$str<< .
]<<. /
}<</ 0
$str<<0 G
"<<G H
,<<H I
new== 
ChangeProfilRequest== #
(==# $
)==$ %
{>> 
Role?? 
=?? 

_userState?? !
.??! "
Role??" &
,??& '
Zone@@ 
=@@ 

_userState@@ !
.@@! "
Zone@@" &
,@@& '
	IdSessionAA 
=AA 

_userStateAA &
.AA& '
	IdSessionAA' 0
}BB 
)BB 
;BB 
ifDD 

(DD 
responseDD 
.DD 
IsSuccessStatusCodeDD (
)DD( )
{EE 	
varFF 
userFF 
=FF 
awaitFF 
responseFF &
.FF& '
ContentFF' .
.FF. /
ReadFromJsonAsyncFF/ @
<FF@ A
UserProfileFFA L
>FFL M
(FFM N
)FFN O
;FFO P

_userStateGG 
.GG 
RoleGG 
=GG 
userGG "
.GG" #
RoleGG# '
;GG' (

_userStateHH 
.HH 
ZoneHH 
=HH 
userHH "
.HH" #
ZoneHH# '
;HH' (

_userStateII 
.II 
	UpdatedAtII  
=II! "
userII# '
.II' (
	UpdatedAtII( 1
;II1 2
StateHasChangedJJ 
(JJ 
)JJ 
;JJ 
}KK 	
}LL 
privateNN 
voidNN 
SetZoneNN 
(NN 
stringNN 
zoneNN  $
)NN$ %
{OO 

_userStatePP 
.PP 
ZonePP 
=PP 
zonePP 
;PP 
}QQ 
privateSS 
voidSS 
SetRoleSS 
(SS 
stringSS 
roleSS  $
)SS$ %
{TT 

_userStateUU 
.UU 
RoleUU 
=UU 
roleUU 
;UU 
}VV 
privateXX 
asyncXX 
voidXX 
AddRattachmentXX %
(XX% &
)XX& '
{YY 
varZZ 
responseZZ 
=ZZ 
awaitZZ 
_httpClientZZ (
.ZZ( )
PostAsJsonAsyncZZ) 8
(ZZ8 9
$"[[ 
{[[ 
_configuration[[ 
[[[ 
$str[[ .
][[. /
}[[/ 0
$str[[0 I
"[[I J
,[[J K
new\\ 
RattachmentRequest\\ "
{]] 
	IdSession^^ 
=^^ 

_userState^^ &
.^^& '
	IdSession^^' 0
,^^0 1
IdDirecteur__ 
=__ 
AddDirecteurValue__ /
,__/ 0
IdProfesseur`` 
=`` 
AddProfesseurValue`` 1
}aa 
)aa 
;aa 
ifcc 

(cc 
responsecc 
.cc 
IsSuccessStatusCodecc (
)cc( )
{dd 	
varee 
resultee 
=ee 
awaitee 
responseee '
.ee' (
Contentee( /
.ee/ 0
ReadFromJsonAsyncee0 A
<eeA B
ListeeB F
<eeF G
RattachmenteeG R
>eeR S
>eeS T
(eeT U
)eeU V
;eeV W

_userStategg 
.gg 
SetAsDirecteurgg %
(gg% &
resultgg& ,
.hh 
Wherehh 
(hh 
rhh 
=>hh 
rhh 
.hh 
IdDirecteurhh )
==hh* ,

_userStatehh- 7
.hh7 8
IdRolehh8 >
)hh> ?
.ii 
ToListii 
(ii 
)ii 
)ii 
;ii 

_userStatekk 
.kk 
SetAsProfesseurkk &
(kk& '
resultkk' -
.ll 
Wherell 
(ll 
rll 
=>ll 
rll 
.ll 
IdProfesseurll *
==ll+ -

_userStatell. 8
.ll8 9
IdRolell9 ?
)ll? @
.mm 
ToListmm 
(mm 
)mm 
)mm 
;mm 
varpp 

parameterspp 
=pp 
newpp  
DialogParameterspp! 1
{qq 
[rr 
$strrr 
]rr 
=rr 
$strrr A
,rrA B
[ss 
$strss 
]ss 
=ss 
$strss &
}tt 
;tt 
varvv 
optionsvv 
=vv 
newvv 
DialogOptionsvv +
{ww 
CloseOnEscapeKeyxx  
=xx! "
truexx# '
,xx' (
CloseButtonyy 
=yy 
trueyy "
,yy" #
MaxWidthzz 
=zz 
MaxWidthzz #
.zz# $

ExtraSmallzz$ .
,zz. /
	FullWidth{{ 
={{ 
true{{  
}|| 
;|| 
var 
dialog 
= 
await 
_dialogService -
.- .
	ShowAsync. 7
<7 8"
ErrorRattachmentDialog8 N
>N O
(O P
$strP h
,h i

parametersj t
,t u
optionsv }
)} ~
;~ 
await
ÄÄ 
dialog
ÄÄ 
.
ÄÄ 
Result
ÄÄ 
;
ÄÄ  !
_viewDashboardState
ÉÉ 
.
ÉÉ  *
GetViewDashboardFromDatabase
ÉÉ  <
(
ÉÉ< =
)
ÉÉ= >
;
ÉÉ> ?
}
ÑÑ 	
if
ÜÜ 

(
ÜÜ 
response
ÜÜ 
.
ÜÜ 

StatusCode
ÜÜ 
==
ÜÜ  "
HttpStatusCode
ÜÜ# 1
.
ÜÜ1 2
Conflict
ÜÜ2 :
)
ÜÜ: ;
{
áá 	
var
ââ 
message
ââ 
=
ââ 
await
ââ 
response
ââ  (
.
ââ( )
Content
ââ) 0
.
ââ0 1
ReadAsStringAsync
ââ1 B
(
ââB C
)
ââC D
;
ââD E
var
ãã 

parameters
ãã 
=
ãã 
new
ãã  
DialogParameters
ãã! 1
{
åå 
[
çç 
$str
çç 
]
çç 
=
çç 
message
çç %
,
çç% &
[
éé 
$str
éé 
]
éé 
=
éé 
$str
éé $
}
èè 
;
èè 
var
ëë 
options
ëë 
=
ëë 
new
ëë 
DialogOptions
ëë +
{
íí 
CloseOnEscapeKey
ìì  
=
ìì! "
true
ìì# '
,
ìì' (
CloseButton
îî 
=
îî 
true
îî "
,
îî" #
MaxWidth
ïï 
=
ïï 
MaxWidth
ïï #
.
ïï# $

ExtraSmall
ïï$ .
,
ïï. /
	FullWidth
ññ 
=
ññ 
true
ññ  
}
óó 
;
óó 
var
öö 
dialog
öö 
=
öö 
await
öö 
_dialogService
öö -
.
öö- .
	ShowAsync
öö. 7
<
öö7 8$
ErrorRattachmentDialog
öö8 N
>
ööN O
(
ööO P
$str
ööP h
,
ööh i

parameters
ööj t
,
ööt u
options
ööv }
)
öö} ~
;
öö~ 
await
õõ 
dialog
õõ 
.
õõ 
Result
õõ 
;
õõ  
}
úú 	

ResetInput
ûû 
(
ûû 
)
ûû 
;
ûû 
}
üü 
private
°° 
async
°° 
void
°° 
DeleteRattachment
°° (
(
°°( )
)
°°) *
{
¢¢ 
var
££ 
response
££ 
=
££ 
await
££ 
_httpClient
££ (
.
££( )
PostAsJsonAsync
££) 8
(
££8 9
$"
§§ 
{
§§ 
_configuration
§§ 
[
§§ 
$str
§§ .
]
§§. /
}
§§/ 0
$str
§§0 L
"
§§L M
,
§§M N
new
••  
RattachmentRequest
•• "
{
¶¶ 
	IdSession
ßß 
=
ßß 

_userState
ßß &
.
ßß& '
	IdSession
ßß' 0
,
ßß0 1
IdDirecteur
®® 
=
®® "
DeleteDirecteurValue
®® 2
,
®®2 3
IdProfesseur
©© 
=
©© #
DeleteProfesseurValue
©© 4
}
™™ 
)
™™ 
;
™™ 
if
¨¨ 

(
¨¨ 
response
¨¨ 
.
¨¨ !
IsSuccessStatusCode
¨¨ (
)
¨¨( )
{
≠≠ 	
var
ÆÆ 
result
ÆÆ 
=
ÆÆ 
await
ÆÆ 
response
ÆÆ '
.
ÆÆ' (
Content
ÆÆ( /
.
ÆÆ/ 0
ReadFromJsonAsync
ÆÆ0 A
<
ÆÆA B
List
ÆÆB F
<
ÆÆF G
Rattachment
ÆÆG R
>
ÆÆR S
>
ÆÆS T
(
ÆÆT U
)
ÆÆU V
;
ÆÆV W

_userState
∞∞ 
.
∞∞ 
SetAsDirecteur
∞∞ %
(
∞∞% &
result
∞∞& ,
.
±± 
Where
±± 
(
±± 
r
±± 
=>
±± 
r
±± 
.
±± 
IdDirecteur
±± )
==
±±* ,

_userState
±±- 7
.
±±7 8
IdRole
±±8 >
)
±±> ?
.
≤≤ 
ToList
≤≤ 
(
≤≤ 
)
≤≤ 
)
≤≤ 
;
≤≤ 

_userState
¥¥ 
.
¥¥ 
SetAsProfesseur
¥¥ &
(
¥¥& '
result
¥¥' -
.
µµ 
Where
µµ 
(
µµ 
r
µµ 
=>
µµ 
r
µµ 
.
µµ 
IdProfesseur
µµ *
==
µµ+ -

_userState
µµ. 8
.
µµ8 9
IdRole
µµ9 ?
)
µµ? @
.
∂∂ 
ToList
∂∂ 
(
∂∂ 
)
∂∂ 
)
∂∂ 
;
∂∂ 
var
ππ 

parameters
ππ 
=
ππ 
new
ππ  
DialogParameters
ππ! 1
{
∫∫ 
[
ªª 
$str
ªª 
]
ªª 
=
ªª 
$str
ªª A
,
ªªA B
[
ºº 
$str
ºº 
]
ºº 
=
ºº 
$str
ºº &
}
ΩΩ 
;
ΩΩ 
var
øø 
options
øø 
=
øø 
new
øø 
DialogOptions
øø +
{
¿¿ 
CloseOnEscapeKey
¡¡  
=
¡¡! "
true
¡¡# '
,
¡¡' (
CloseButton
¬¬ 
=
¬¬ 
true
¬¬ "
,
¬¬" #
MaxWidth
√√ 
=
√√ 
MaxWidth
√√ #
.
√√# $

ExtraSmall
√√$ .
,
√√. /
	FullWidth
ƒƒ 
=
ƒƒ 
true
ƒƒ  
}
≈≈ 
;
≈≈ 
var
»» 
dialog
»» 
=
»» 
await
»» 
_dialogService
»» -
.
»»- .
	ShowAsync
»». 7
<
»»7 8$
ErrorRattachmentDialog
»»8 N
>
»»N O
(
»»O P
$str
»»P h
,
»»h i

parameters
»»j t
,
»»t u
options
»»v }
)
»»} ~
;
»»~ 
await
…… 
dialog
…… 
.
…… 
Result
…… 
;
……  !
_viewDashboardState
ÃÃ 
.
ÃÃ  *
GetViewDashboardFromDatabase
ÃÃ  <
(
ÃÃ< =
)
ÃÃ= >
;
ÃÃ> ?
}
ÕÕ 	
if
œœ 

(
œœ 
response
œœ 
.
œœ 

StatusCode
œœ 
==
œœ  "
HttpStatusCode
œœ# 1
.
œœ1 2
Conflict
œœ2 :
)
œœ: ;
{
–– 	
var
““ 
message
““ 
=
““ 
await
““ 
response
““  (
.
““( )
Content
““) 0
.
““0 1
ReadAsStringAsync
““1 B
(
““B C
)
““C D
;
““D E
var
‘‘ 

parameters
‘‘ 
=
‘‘ 
new
‘‘  
DialogParameters
‘‘! 1
{
’’ 
[
÷÷ 
$str
÷÷ 
]
÷÷ 
=
÷÷ 
message
÷÷ %
,
÷÷% &
[
◊◊ 
$str
◊◊ 
]
◊◊ 
=
◊◊ 
$str
◊◊ $
}
ÿÿ 
;
ÿÿ 
var
⁄⁄ 
options
⁄⁄ 
=
⁄⁄ 
new
⁄⁄ 
DialogOptions
⁄⁄ +
{
€€ 
CloseOnEscapeKey
‹‹  
=
‹‹! "
true
‹‹# '
,
‹‹' (
CloseButton
›› 
=
›› 
true
›› "
,
››" #
MaxWidth
ﬁﬁ 
=
ﬁﬁ 
MaxWidth
ﬁﬁ #
.
ﬁﬁ# $

ExtraSmall
ﬁﬁ$ .
,
ﬁﬁ. /
	FullWidth
ﬂﬂ 
=
ﬂﬂ 
true
ﬂﬂ  
}
‡‡ 
;
‡‡ 
var
„„ 
dialog
„„ 
=
„„ 
await
‰‰ 
_dialogService
‰‰ $
.
‰‰$ %
	ShowAsync
‰‰% .
<
‰‰. /$
ErrorRattachmentDialog
‰‰/ E
>
‰‰E F
(
‰‰F G
$str
‰‰G _
,
‰‰_ `

parameters
‰‰a k
,
‰‰k l
options
‰‰m t
)
‰‰t u
;
‰‰u v
await
ÂÂ 
dialog
ÂÂ 
.
ÂÂ 
Result
ÂÂ 
;
ÂÂ  
}
ÊÊ 	

ResetInput
ËË 
(
ËË 
)
ËË 
;
ËË 
}
ÈÈ 
private
ÎÎ 
void
ÎÎ 

ResetInput
ÎÎ 
(
ÎÎ 
)
ÎÎ 
{
ÏÏ 
AddDirecteurValue
ÌÌ 
=
ÌÌ 
String
ÌÌ "
.
ÌÌ" #
Empty
ÌÌ# (
;
ÌÌ( )"
DeleteDirecteurValue
ÓÓ 
=
ÓÓ 
String
ÓÓ %
.
ÓÓ% &
Empty
ÓÓ& +
;
ÓÓ+ , 
AddProfesseurValue
ÔÔ 
=
ÔÔ 
String
ÔÔ #
.
ÔÔ# $
Empty
ÔÔ$ )
;
ÔÔ) *#
DeleteProfesseurValue
 
=
 
String
  &
.
& '
Empty
' ,
;
, -
StateHasChanged
ÚÚ 
(
ÚÚ 
)
ÚÚ 
;
ÚÚ 
}
ÙÙ 
private
ˆˆ 
async
ˆˆ 
Task
ˆˆ 

DeleteUser
ˆˆ !
(
ˆˆ! "
)
ˆˆ" #
{
˜˜ 
var
˘˘ 

parameters
˘˘ 
=
˘˘ 
new
˘˘ 
DialogParameters
˘˘ -
{
˙˙ 	
[
˚˚ 
$str
˚˚ 
]
˚˚ 
=
˚˚ 
$str
˚˚ M
,
˚˚M N
}
¸¸ 	
;
¸¸	 

var
˛˛ 
options
˛˛ 
=
˛˛ 
new
˛˛ 
DialogOptions
˛˛ '
{
ˇˇ 	
CloseOnEscapeKey
ÄÄ 
=
ÄÄ 
true
ÄÄ #
,
ÄÄ# $
CloseButton
ÅÅ 
=
ÅÅ 
true
ÅÅ 
,
ÅÅ 
MaxWidth
ÇÇ 
=
ÇÇ 
MaxWidth
ÇÇ 
.
ÇÇ  

ExtraSmall
ÇÇ  *
,
ÇÇ* +
	FullWidth
ÉÉ 
=
ÉÉ 
true
ÉÉ 
}
ÑÑ 	
;
ÑÑ	 

var
ÜÜ 
dialog
ÜÜ 
=
ÜÜ 
await
ÜÜ 
_dialogService
ÜÜ )
.
ÜÜ) *
	ShowAsync
ÜÜ* 3
<
ÜÜ3 4!
ConfirmDeleteDialog
ÜÜ4 G
>
ÜÜG H
(
ÜÜH I
$str
ÜÜI f
,
ÜÜf g

parameters
ÜÜh r
,
ÜÜr s
options
ÜÜt {
)
ÜÜ{ |
;
ÜÜ| }
var
àà 
result
àà 
=
àà 
await
àà 
dialog
àà !
.
àà! "
Result
àà" (
;
àà( )
if
ää 

(
ää 
!
ää 
result
ää 
.
ää 
Canceled
ää 
)
ää 
{
ãã 	
var
åå 
response
åå 
=
åå 
await
åå  
_httpClient
åå! ,
.
åå, -
PostAsJsonAsync
åå- <
(
åå< =
$"
çç 
{
çç 
_configuration
çç !
[
çç! "
$str
çç" 2
]
çç2 3
}
çç3 4
$str
çç4 I
"
ççI J
,
ççJ K
new
éé 
DeleteUserRequest
éé %
{
èè 
	IdSession
êê 
=
êê 

_userState
êê  *
.
êê* +
	IdSession
êê+ 4
,
êê4 5
}
ëë 
)
ëë 
;
ëë 
if
ìì 
(
ìì 
response
ìì 
.
ìì !
IsSuccessStatusCode
ìì ,
)
ìì, -
{
îî 
_serviceLogout
ññ 
.
ññ 
Logout
ññ %
(
ññ% &

_userState
ññ& 0
.
ññ0 1
	IdSession
ññ1 :
)
ññ: ;
;
ññ; <
var
ôô 
dialogParameters
ôô %
=
ôô% &
new
ôô' *
DialogParameters
ôô+ ;
{
öö 
[
õõ 
$str
õõ 
]
õõ 
=
õõ  !
$str
õõ" K
,
õõK L
[
úú 
$str
úú 
]
úú 
=
úú  
$str
úú! *
}
ûû 
;
ûû 
var
†† 
dialogOptions
†† !
=
††" #
new
††$ '
DialogOptions
††( 5
{
°° 
CloseOnEscapeKey
¢¢ $
=
¢¢% &
true
¢¢' +
,
¢¢+ ,
CloseButton
££ 
=
££  !
true
££" &
,
££& '
MaxWidth
§§ 
=
§§ 
MaxWidth
§§ '
.
§§' (
Small
§§( -
,
§§- .
	FullWidth
•• 
=
•• 
true
••  $
}
¶¶ 
;
¶¶ 
var
®® 
dialogSuccess
®® !
=
®®" #
await
®®$ )
_dialogService
®®* 8
.
®®8 9
	ShowAsync
®®9 B
<
®®B C$
ErrorRattachmentDialog
®®C Y
>
®®Y Z
(
®®Z [
$str
®®[ u
,
®®u v
dialogParameters®®w á
,®®á à
dialogOptions®®â ñ
)®®ñ ó
;®®ó ò
await
©© 
dialogSuccess
©© #
.
©©# $
Result
©©$ *
;
©©* + 
_navigationManager
´´ "
.
´´" #

NavigateTo
´´# -
(
´´- .
$str
´´. 1
)
´´1 2
;
´´2 3
}
¨¨ 
}
≠≠ 	
}
ÆÆ 
}ØØ «
vC:\Users\bapti\RiderProjects\MaClasse\MaClasse.Client\Components\DashboardContent\Menu\ErrorRattachmentDialog.razor.cs
	namespace 	
MaClasse
 
. 
Client 
. 

Components $
.$ %
DashboardContent% 5
.5 6
Menu6 :
;: ;
public 
partial 
class "
ErrorRattachmentDialog +
:, -
ComponentBase. ;
{ 
[ 
CascadingParameter 
] 
private  
IMudDialogInstance! 3
?3 4
	MudDialog5 >
{? @
getA D
;D E
setF I
;I J
}K L
[

 
	Parameter

 
]

 
public

 
string

 
Message

 %
{

& '
get

( +
;

+ ,
set

- 0
;

0 1
}

2 3
[ 
	Parameter 
] 
public 
string 
Result $
{% &
get' *
;* +
set, /
;/ 0
}1 2
private 
string 
CommonBoxStyle !
=>" $
$str% _
;_ `
private 
string 
GetBorderStyle !
(! "
)" #
{ 
var 
borderColor 
= 
Result  
switch! '
{ 	
$str 
=> 
$str  
,  !
$str 
=> 
$str "
," #
} 	
;	 

return 
$" 
$str #
{# $
borderColor$ /
}/ 0
$str0 2
{2 3
CommonBoxStyle3 A
}A B
"B C
;C D
} 
public 

void !
CloseErrorRattachment %
(% &
)& '
{ 
	MudDialog 
? 
. 
Close 
( 
DialogResult %
.% &
Ok& (
(( )
true) -
)- .
). /
;/ 0
} 
} †
sC:\Users\bapti\RiderProjects\MaClasse\MaClasse.Client\Components\DashboardContent\Menu\ConfirmDeleteDialog.razor.cs
	namespace 	
MaClasse
 
. 
Client 
. 

Components $
.$ %
DashboardContent% 5
.5 6
Menu6 :
;: ;
public 
partial 
class 
ConfirmDeleteDialog (
:) *
ComponentBase+ 8
{ 
[ 
CascadingParameter 
] 
private  
IMudDialogInstance! 3
?3 4
	MudDialog5 >
{? @
getA D
;D E
setF I
;I J
}K L
[

 
	Parameter

 
]

 
public

 
string

 
Message

 %
{

& '
get

( +
;

+ ,
set

- 0
;

0 1
}

2 3
=

4 5
$str

6 h
;

h i
private 
void 
Cancel 
( 
) 
{ 
	MudDialog 
? 
. 
Cancel 
( 
) 
; 
} 
private 
void 
Confirm 
( 
) 
{ 
	MudDialog 
? 
. 
Close 
( 
DialogResult %
.% &
Ok& (
(( )
true) -
)- .
). /
;/ 0
} 
} ¡:
lC:\Users\bapti\RiderProjects\MaClasse\MaClasse.Client\Components\DashboardContent\Lesson\LessonView.razor.cs
	namespace 	
MaClasse
 
. 
Client 
. 

Components $
.$ %
DashboardContent% 5
.5 6
Lesson6 <
;< =
public 
partial 
class 

LessonView 
:  !
ComponentBase" /
{		 
private

 
readonly

 
LessonState

  
_lessonState

! -
;

- .
private 
readonly 

HttpClient 
_httpClient  +
;+ ,
private 
readonly 
IDialogService #
_dialogService$ 2
;2 3
public 


LessonView 
( 
LessonState 
lessonState 
,  

HttpClient 

httpClient 
, 
IDialogService 
dialogService $
)$ %
{ 
_lessonState 
= 
lessonState "
;" #
_httpClient 
= 

httpClient  
;  !
_dialogService 
= 
dialogService &
;& '
} 
private 
Appointment 
appointement $
=% &
new' *
Appointment+ 6
(6 7
)7 8
;8 9
private 
Shared 
. 
Models 
. 
Lesson  
.  !
Lesson! '
lesson( .
=/ 0
new1 4
Shared5 ;
.; <
Models< B
.B C
LessonC I
.I J
LessonJ P
(P Q
)Q R
;R S
private 
bool 
isPasteDisabled  
=! "
true# '
;' (
private 
bool 

isReadOnly 
; 
	protected 
override 
void 
OnInitialized )
() *
)* +
{ 
_lessonState 
. 
OnChange 
+=  
RefreshState! -
;- .

isReadOnly!! 
=!! 
_lessonState!! !
.!!! "

IsReadOnly!!" ,
;!!, -
}"" 
private$$ 
async$$ 
void$$ 
RefreshState$$ #
($$# $
)$$$ %
{%% 
appointement&& 
=&& 
_lessonState&& #
.&&# $
SelectedAppointment&&$ 7
;&&7 8
lesson'' 
='' 
_lessonState'' 
.'' 
Lesson'' #
;''# $

isReadOnly(( 
=(( 
_lessonState(( !
.((! "

IsReadOnly((" ,
;((, -
InvokeAsync++ 
(++ 
(++ 
)++ 
=>++ 
{++ 
StateHasChanged++ +
(+++ ,
)++, -
;++- .
}++/ 0
)++0 1
;++1 2
},, 
private.. 
async.. 
void.. 

SaveLesson.. !
(..! "
).." #
{// 
if00 

(00 
appointement00 
.00 
Id00 
!=00 
null00 #
)00# $
{11 	
var22 

resultSave22 
=22 
await22 "
_lessonState22# /
.22/ 0
	AddLesson220 9
(229 :
lesson22: @
,22@ A
appointement22B N
)22N O
;22O P
if44 
(44 

resultSave44 
)44 
{55 
var77 

parameters77 
=77  
new77! $
DialogParameters77% 5
{88 
[99 
$str99 
]99 
=99  !
$str99" O
,99O P
}:: 
;:: 
var<< 
options<< 
=<< 
new<< !
DialogOptions<<" /
{== 
CloseOnEscapeKey>> $
=>>% &
true>>' +
,>>+ ,
CloseButton?? 
=??  !
true??" &
,??& '
MaxWidth@@ 
=@@ 
MaxWidth@@ '
.@@' (

ExtraSmall@@( 2
,@@2 3
	FullWidthAA 
=AA 
trueAA  $
}BB 
;BB 
varDD 
dialogDD 
=DD 
awaitDD "
_dialogServiceDD# 1
.DD1 2
	ShowAsyncDD2 ;
<DD; <#
ConfirmSaveLessonDialogDD< S
>DDS T
(DDT U
$strEE 0
,EE0 1

parametersEE2 <
,EE< =
optionsEE> E
)EEE F
;EEF G
varGG 
resultGG 
=GG 
awaitGG "
dialogGG# )
.GG) *
ResultGG* 0
;GG0 1
}HH 
}II 	
}JJ 
privateLL 
asyncLL 
voidLL 
DeleteLessonLL #
(LL# $
)LL$ %
{MM 
ifNN 

(NN 
appointementNN 
.NN 
IdNN 
!=NN 
nullNN #
)NN# $
{OO 	
varQQ 

parametersQQ 
=QQ 
newQQ  
DialogParametersQQ! 1
{RR 
[SS 
$strSS 
]SS 
=SS 
$strSS L
,SSL M
}TT 
;TT 
varVV 
optionsVV 
=VV 
newVV 
DialogOptionsVV +
{WW 
CloseOnEscapeKeyXX  
=XX! "
trueXX# '
,XX' (
CloseButtonYY 
=YY 
trueYY "
,YY" #
MaxWidthZZ 
=ZZ 
MaxWidthZZ #
.ZZ# $

ExtraSmallZZ$ .
,ZZ. /
	FullWidth[[ 
=[[ 
true[[  
}\\ 
;\\ 
var^^ 
dialog^^ 
=^^ 
await^^ 
_dialogService^^ -
.^^- .
	ShowAsync^^. 7
<^^7 8%
ConfirmDeleteLessonDialog^^8 Q
>^^Q R
(^^R S
$str__ -
,__- .

parameters__/ 9
,__9 :
options__; B
)__B C
;__C D
varaa 
resultaa 
=aa 
awaitaa 
dialogaa %
.aa% &
Resultaa& ,
;aa, -
ifcc 
(cc 
!cc 
resultcc 
.cc 
Canceledcc  
)cc  !
{dd 
_lessonStateee 
.ee 
DeleteLessonee )
(ee) *
lessonee* 0
)ee0 1
;ee1 2
}ff 
}gg 	
}hh 
publicjj 

voidjj 

CopyLessonjj 
(jj 
)jj 
{kk 
_lessonStatell 
.ll 
SetCopyLessonll "
(ll" #
lessonll# )
)ll) *
;ll* +
isPasteDisabledmm 
=mm 
falsemm 
;mm  
}nn 
publicpp 

voidpp 
PasteLessonpp 
(pp 
)pp 
{qq 
lessonrr 
=rr 
_lessonStaterr 
.rr 
GetCopyLessonrr +
(rr+ ,
)rr, -
;rr- .
isPasteDisabledss 
=ss 
truess 
;ss 
}tt 
}uu ¸
yC:\Users\bapti\RiderProjects\MaClasse\MaClasse.Client\Components\DashboardContent\Lesson\ConfirmSaveLessonDialog.razor.cs
	namespace 	
MaClasse
 
. 
Client 
. 

Components $
.$ %
DashboardContent% 5
.5 6
Lesson6 <
;< =
public 
partial 
class #
ConfirmSaveLessonDialog ,
:- .
ComponentBase/ <
{ 
[ 
CascadingParameter 
] 
private  
IMudDialogInstance! 3
?3 4
	MudDialog5 >
{? @
getA D
;D E
setF I
;I J
}K L
[

 
	Parameter

 
]

 
public

 
string

 
Message

 %
{

& '
get

( +
;

+ ,
set

- 0
;

0 1
}

2 3
private 
void 
Cancel 
( 
) 
{ 
	MudDialog 
? 
. 
Cancel 
( 
) 
; 
} 
private 
void 
Confirm 
( 
) 
{ 
	MudDialog 
? 
. 
Close 
( 
DialogResult %
.% &
Ok& (
(( )
true) -
)- .
). /
;/ 0
} 
} Í
uC:\Users\bapti\RiderProjects\MaClasse\MaClasse.Client\Components\DashboardContent\Files\RenameDocumentDialog.razor.cs
	namespace 	
MaClasse
 
. 
Client 
. 

Components $
.$ %
DashboardContent% 5
.5 6
Files6 ;
;; <
public 
partial 
class  
RenameDocumentDialog )
:* +
ComponentBase, 9
{ 
[		 
CascadingParameter		 
]		 
private		 
IMudDialogInstance		 1
?		1 2
	MudDialog		3 <
{		= >
get		? B
;		B C
set		D G
;		G H
}		I J
[ 
	Parameter 
] 
public 
Document 
Document &
{' (
get) ,
;, -
set. 1
;1 2
}3 4
private 	
string
 
NewName 
{ 
get 
; 
set  #
;# $
}% &
=' (
String) /
./ 0
Empty0 5
;5 6
private 	
void
 
Cancel 
( 
) 
{ 
	MudDialog 
? 
. 
Cancel 
( 
) 
; 
} 
private 	
void
 
Confirm 
( 
) 
{ 
	MudDialog 
? 
. 
Close 
( 
DialogResult !
.! "
Ok" $
($ %
NewName% ,
), -
)- .
;. /
} 
} ∞
{C:\Users\bapti\RiderProjects\MaClasse\MaClasse.Client\Components\DashboardContent\Lesson\ConfirmDeleteLessonDialog.razor.cs
	namespace 	
MaClasse
 
. 
Client 
. 

Components $
.$ %
DashboardContent% 5
.5 6
Lesson6 <
;< =
public 
partial 
class %
ConfirmDeleteLessonDialog .
:/ 0
ComponentBase1 >
{ 
[ 
CascadingParameter 
] 
private  
IMudDialogInstance! 3
?3 4
	MudDialog5 >
{? @
getA D
;D E
setF I
;I J
}K L
[

 
	Parameter

 
]

 
public

 
string

 
Message

 %
{

& '
get

( +
;

+ ,
set

- 0
;

0 1
}

2 3
=

4 5
$str

6 h
;

h i
private 
void 
Cancel 
( 
) 
{ 
	MudDialog 
? 
. 
Cancel 
( 
) 
; 
} 
private 
void 
Confirm 
( 
) 
{ 
	MudDialog 
? 
. 
Close 
( 
DialogResult %
.% &
Ok& (
(( )
true) -
)- .
). /
;/ 0
} 
} Ωa
mC:\Users\bapti\RiderProjects\MaClasse\MaClasse.Client\Components\DashboardContent\Files\FileExplorer.razor.cs
	namespace 	
MaClasse
 
. 
Client 
. 

Components $
.$ %
DashboardContent% 5
.5 6
Files6 ;
;; <
public 
partial 
class 
FileExplorer !
:" #
ComponentBase$ 1
,1 2
IAsyncDisposable3 C
{ 
private 
readonly 
LessonState  
_lessonState! -
;- .
private 
readonly 
	UserState 

_userState )
;) *
private 
readonly 
IDialogService #
_dialogService$ 2
;2 3
private 
readonly 

IJSRuntime 

_jsRuntime  *
;* +
private 
readonly 
SchedulerState #
_schedulerState$ 3
;3 4
public 

FileExplorer 
( 
LessonState 
lessonState 
,  
	UserState 
	userState 
, 
IDialogService 
dialogService $
,$ %

IJSRuntime 
	jsRuntime 
, 
SchedulerState 
schedulerState %
)% &
{ 
_lessonState 
= 
lessonState "
;" #

_userState 
= 
	userState 
; 
_dialogService 
= 
dialogService &
;& '

_jsRuntime   
=   
	jsRuntime   
;   
_schedulerState!! 
=!! 
schedulerState!! (
;!!( )
}"" 
private$$ 
Appointment$$ 
appointement$$ $
=$$% &
new$$' *
Appointment$$+ 6
($$6 7
)$$7 8
;$$8 9
private%% 
List%% 
<%% 
Document%% 
>%% 
files%%  
=%%! "
new%%# &
List%%' +
<%%+ ,
Document%%, 4
>%%4 5
(%%5 6
)%%6 7
;%%7 8
private'' 
Document'' 
selectedDoc''  
;''  !
private(( 
bool(( 
showContextMenu((  
;((  !
private)) 
int)) 
menuX)) 
;)) 
private** 
int** 
menuY** 
;** 
private++ !
DotNetObjectReference++ !
<++! "
FileExplorer++" .
>++. /
?++/ 0

_dotNetRef++1 ;
;++; <
private,, 
string,, 
menuXpx,, 
=>,, 
$",,  
{,,  !
menuX,,! &
},,& '
$str,,' )
",,) *
;,,* +
private-- 
string-- 
menuYpx-- 
=>-- 
$"--  
{--  !
menuY--! &
}--& '
$str--' )
"--) *
;--* +
private.. 
bool.. 

isReadOnly.. 
;.. 
	protected11 
override11 
void11 
OnInitialized11 )
(11) *
)11* +
{22 
_lessonState33 
.33 
OnChange33 
+=33  
RefreshState33! -
;33- .

isReadOnly55 
=55 
_lessonState55 !
.55! "

IsReadOnly55" ,
;55, -
}66 
private88 
void88 
RefreshState88 
(88 
)88 
{99 
appointement:: 
=:: 
_lessonState:: #
.::# $
SelectedAppointment::$ 7
;::7 8
files;; 
=;; 
_lessonState;; 
.;; 
Lesson;; #
.;;# $
	Documents;;$ -
;;;- .

isReadOnly<< 
=<< 
_lessonState<< !
.<<! "

IsReadOnly<<" ,
;<<, -
InvokeAsync?? 
(?? 
(?? 
)?? 
=>?? 
{?? 
StateHasChanged?? +
(??+ ,
)??, -
;??- .
}??/ 0
)??0 1
;??1 2
}@@ 
	protectedBB 
overrideBB 
asyncBB 
TaskBB !
OnAfterRenderAsyncBB" 4
(BB4 5
boolBB5 9
firstRenderBB: E
)BBE F
{CC 
ifDD 

(DD 
firstRenderDD 
)DD 
{EE 	

_dotNetRefFF 
=FF !
DotNetObjectReferenceFF .
.FF. /
CreateFF/ 5
(FF5 6
thisFF6 :
)FF: ;
;FF; <
awaitGG 

_jsRuntimeGG 
.GG 
InvokeVoidAsyncGG ,
(GG, -
$strGG- D
,GGD E

_dotNetRefGGF P
)GGP Q
;GGQ R
awaitHH 

_jsRuntimeHH 
.HH 
InvokeVoidAsyncHH ,
(HH, -
$strHH- M
)HHM N
;HHN O
}II 	
}JJ 
privateLL 
asyncLL 
TaskLL 
UploadFilesLL "
(LL" #
IBrowserFileLL# /
fileLL0 4
)LL4 5
{MM 
_lessonStateNN 
.NN 

UploadFileNN 
(NN  
fileNN  $
)NN$ %
;NN% &
}OO 
privateQQ 
asyncQQ 
TaskQQ 
OpenFileInNewTabQQ '
(QQ' (
)QQ( )
{RR 
ifSS 

(SS 
selectedDocSS 
isSS 
nullSS 
)SS  
returnTT 
;TT 
stringVV 
concatStringVV 
=VV 
$"VV  
{VV  !
_schedulerStateVV! 0
.VV0 1
SchedulerDisplayedVV1 C
}VVC D
$strVVD E
{VVE F
selectedDocVVF Q
.VVQ R

IdDocumentVVR \
}VV\ ]
"VV] ^
;VV^ _
varXX %
base64EncodedconcatStringXX %
=XX& '
ConvertXX( /
.XX/ 0
ToBase64StringXX0 >
(XX> ?
EncodingXX? G
.XXG H
UTF8XXH L
.XXL M
GetBytesXXM U
(XXU V
concatStringXXV b
)XXb c
)XXc d
;XXd e
varZZ 
	viewerUrlZZ 
=ZZ 
$"ZZ 
$strZZ *
{ZZ* +%
base64EncodedconcatStringZZ+ D
}ZZD E
"ZZE F
;ZZF G
await\\ 

_jsRuntime\\ 
.\\ 
InvokeVoidAsync\\ (
(\\( )
$str\\) /
,\\/ 0
	viewerUrl\\1 :
,\\: ;
$str\\< D
)\\D E
;\\E F
}]] 
private__ 
async__ 
Task__ 

DeleteFile__ !
(__! "
)__" #
{`` 
_lessonStateaa 
.aa 

DeleteFileaa 
(aa  
selectedDocaa  +
)aa+ ,
;aa, -
}bb 
privatedd 
asyncdd 
Taskdd 

RenameFiledd !
(dd! "
)dd" #
{ee 
varff 

parametersff 
=ff 
newff 
DialogParametersff -
{gg 	
{hh 
$strhh 
,hh 
selectedDochh %
}hh& '
}ii 	
;ii	 

varkk 
optionskk 
=kk 
newkk 
DialogOptionskk '
{ll 	
CloseButtonmm 
=mm 
truemm 
,mm 
MaxWidthnn 
=nn 
MaxWidthnn 
.nn  
Smallnn  %
}oo 	
;oo	 

varqq 
dialogqq 
=qq 
awaitqq 
_dialogServiceqq )
.qq) *
	ShowAsyncqq* 3
<qq3 4 
RenameDocumentDialogqq4 H
>qqH I
(qqI J
$strrr $
,rr$ %

parametersrr& 0
,rr0 1
optionsrr2 9
)rr9 :
;rr: ;
vartt 
resulttt 
=tt 
awaittt 
dialogtt !
.tt! "
Resulttt" (
;tt( )
ifvv 

(vv 
!vv 
resultvv 
.vv 
Canceledvv 
&&vv 
resultvv  &
.vv& '
Datavv' +
isvv, .
stringvv/ 5
newNamevv6 =
&&vv> @
!vvA B
stringvvB H
.vvH I
IsNullOrWhiteSpacevvI [
(vv[ \
newNamevv\ c
)vvc d
)vvd e
{ww 	
selectedDocxx 
.xx 
Namexx 
=xx 
newNamexx &
;xx& '
_lessonStateyy 
.yy 

RenameFileyy #
(yy# $
selectedDocyy$ /
)yy/ 0
;yy0 1
}zz 	
}{{ 
private}} 
async}} 
Task}} 
OnImageClick}} #
(}}# $
MouseEventArgs}}$ 2
e}}3 4
,}}4 5
string}}6 <

documentId}}= G
)}}G H
{~~ 
var 
x 
= 
( 
int 
) 
e 
. 
ClientX 
; 
var
ÄÄ 
y
ÄÄ 
=
ÄÄ 
(
ÄÄ 
int
ÄÄ 
)
ÄÄ 
e
ÄÄ 
.
ÄÄ 
ClientY
ÄÄ 
;
ÄÄ 
await
ÇÇ 

_jsRuntime
ÇÇ 
.
ÇÇ 
InvokeVoidAsync
ÇÇ (
(
ÇÇ( )
$str
ÇÇ) R
,
ÇÇR S

documentId
ÇÇT ^
,
ÇÇ^ _
x
ÇÇ` a
,
ÇÇa b
y
ÇÇc d
)
ÇÇd e
;
ÇÇe f
}
ÉÉ 
[
ÖÖ 
JSInvokable
ÖÖ 
]
ÖÖ 
public
ÜÜ 

async
ÜÜ 
Task
ÜÜ 
ShowDocumentMenu
ÜÜ &
(
ÜÜ& '
string
ÜÜ' -
id
ÜÜ. 0
,
ÜÜ0 1
int
ÜÜ2 5
x
ÜÜ6 7
,
ÜÜ7 8
int
ÜÜ9 <
y
ÜÜ= >
)
ÜÜ> ?
{
áá 
try
àà 
{
ââ 	
selectedDoc
ää 
=
ää 
files
ää 
.
ää  
FirstOrDefault
ää  .
(
ää. /
d
ää/ 0
=>
ää1 3
d
ää4 5
.
ää5 6

IdDocument
ää6 @
==
ääA C
id
ääD F
)
ääF G
;
ääG H
if
åå 
(
åå 
selectedDoc
åå 
==
åå 
null
åå #
)
åå# $
{
çç 
return
éé 
;
éé 
}
èè 
menuX
ëë 
=
ëë 
x
ëë 
;
ëë 
menuY
íí 
=
íí 
y
íí 
;
íí 
showContextMenu
ìì 
=
ìì 
true
ìì "
;
ìì" #
await
ïï 
InvokeAsync
ïï 
(
ïï 
StateHasChanged
ïï -
)
ïï- .
;
ïï. /
}
ññ 	
catch
óó 
(
óó 
	Exception
óó 
ex
óó 
)
óó 
{
òò 	
Console
ôô 
.
ôô 
	WriteLine
ôô 
(
ôô 
$"
ôô  
$str
ôô  >
{
ôô> ?
ex
ôô? A
.
ôôA B
Message
ôôB I
}
ôôI J
"
ôôJ K
)
ôôK L
;
ôôL M
}
öö 	
}
õõ 
[
ûû 
JSInvokable
ûû 
]
ûû 
public
üü 

async
üü 
Task
üü 
CloseDocumentMenu
üü '
(
üü' (
)
üü( )
{
†† 
showContextMenu
°° 
=
°° 
false
°° 
;
°°  
await
¢¢ 
InvokeAsync
¢¢ 
(
¢¢ 
StateHasChanged
¢¢ )
)
¢¢) *
;
¢¢* +
}
££ 
public
•• 

async
•• 
	ValueTask
•• 
DisposeAsync
•• '
(
••' (
)
••( )
{
¶¶ 
if
ßß 

(
ßß 

_dotNetRef
ßß 
!=
ßß 
null
ßß 
)
ßß 
{
®® 	

_dotNetRef
©© 
.
©© 
Dispose
©© 
(
©© 
)
©©  
;
©©  !

_dotNetRef
™™ 
=
™™ 
null
™™ 
;
™™ 
}
´´ 	
}
¨¨ 
}≠≠ æ—
mC:\Users\bapti\RiderProjects\MaClasse\MaClasse.Client\Components\DashboardContent\Calendar\Scheduler.razor.cs
	namespace 	
MaClasse
 
. 
Client 
. 

Components $
.$ %
DashboardContent% 5
.5 6
Calendar6 >
;> ?
public 
partial 
class 
	Scheduler 
:  
ComponentBase! .
{ 
private 
readonly 
DialogService "
_dialogService# 1
;1 2
private 
readonly 
SchedulerState #
_schedulerState$ 3
;3 4
private 
readonly 
	UserState 

_userState )
;) *
private 
readonly 
LessonState  
_lessonState! -
;- .
private 
readonly 
ViewDashboardState '
_viewDashboardState( ;
;; <
private 
readonly 

IJSRuntime 

_jsRuntime  *
;* +
public 

	Scheduler 
( 
DialogService 
dialogService #
,# $
SchedulerState 
schedulerState %
,% &
	UserState 
	userState 
, 
LessonState   
lessonState   
,    
ViewDashboardState!! 
viewDashboardState!! -
,!!- .

IJSRuntime"" 
	jsRuntime"" 
)"" 
{## 
_dialogService$$ 
=$$ 
dialogService$$ &
;$$& '
_schedulerState%% 
=%% 
schedulerState%% (
;%%( )

_userState&& 
=&& 
	userState&& 
;&& 
_lessonState'' 
='' 
lessonState'' "
;''" #
_viewDashboardState(( 
=(( 
viewDashboardState(( 0
;((0 1

_jsRuntime)) 
=)) 
	jsRuntime)) 
;)) 
}** 
private,, 
RadzenScheduler,, 
<,, 
Appointment,, '
>,,' (
	scheduler,,) 2
;,,2 3
private-- 
string-- 
schedulerWidth-- !
=>--" $
selectedViewIndex--% 6
==--7 9
$num--: ;
?--< =
$str--> E
:--F G
$str--H O
;--O P
private.. 
TimeSpan.. 
	startTime.. 
=..  
new..! $
TimeSpan..% -
(..- .
$num... /
,../ 0
$num..1 2
,..2 3
$num..4 5
)..5 6
;..6 7
private// 
TimeSpan// 
endTime// 
=// 
new// "
TimeSpan//# +
(//+ ,
$num//, .
,//. /
$num//0 2
,//2 3
$num//4 5
)//5 6
;//6 7
private00 
bool00 
datePickerOpen00 
=00  !
false00" '
;00' (
private11 
bool11  
showAppointmentPanel11 %
=11& '
false11( -
;11- .
private22 
DateTime22 
_currentMonth22 "
=22# $
DateTime22% -
.22- .
Today22. 3
;223 4
private33 
DateTime33 
currentDate33  
=33! "
DateTime33# +
.33+ ,
Today33, 1
;331 2
private44 
int44 
selectedViewIndex44 !
=44" #
$num44$ %
;44% &
DateTime55 
selectedStart55 
;55 
DateTime66 
selectedEnd66 
;66 
private77 
bool77 

isEditMode77 
=77 
false77 #
;77# $

Dictionary88 
<88 
DateTime88 
,88 
string88 
>88  
events88! '
=88( )
new88* -

Dictionary88. 8
<888 9
DateTime889 A
,88A B
string88C I
>88I J
(88J K
)88K L
;88L M
private99 
List99 
<99 
Appointment99 
>99 
appointments99 *
=99+ ,
new99- 0
List991 5
<995 6
Appointment996 A
>99A B
(99B C
)99C D
;99D E
private:: 
Appointment:: 
selectedAppointment:: +
;::+ ,
private== !
DotNetObjectReference== !
<==! "
	Scheduler==" +
>==+ ,

_dotNetRef==- 7
;==7 8
private>> 
bool>> 
showContextMenu>>  
=>>! "
false>># (
;>>( )
private?? 
int?? 
menuX?? 
=?? 
$num?? 
;?? 
private@@ 
int@@ 
menuY@@ 
=@@ 
$num@@ 
;@@ 
privateAA 
boolAA  
isClosingContextMenuAA %
=AA& '
falseAA( -
;AA- .
privateBB 
boolBB 

isReadOnlyBB 
;BB 
	protectedFF 
overrideFF 
asyncFF 
TaskFF !
OnInitializedAsyncFF" 4
(FF4 5
)FF5 6
{GG 

_dotNetRefII 
=II !
DotNetObjectReferenceII *
.II* +
CreateII+ 1
(II1 2
thisII2 6
)II6 7
;II7 8
awaitJJ 

_jsRuntimeJJ 
.JJ 
InvokeVoidAsyncJJ (
(JJ( )
$strJJ) C
,JJC D

_dotNetRefJJE O
)JJO P
;JJP Q
awaitKK 

_jsRuntimeKK 
.KK 
InvokeVoidAsyncKK (
(KK( )
$strKK) L
)KKL M
;KKM N

isReadOnlyMM 
=MM 
_schedulerStateMM $
.MM$ %

isReadOnlyMM% /
;MM/ 0
_schedulerStateOO 
.OO 
OnChangeOO  
+=OO! #
RefreshAppointmentsOO$ 7
;OO7 8
appointmentsRR 
=RR 
_schedulerStateRR &
.RR& '
AppointmentsRR' 3
.SS 
SelectSS 
(SS 
aSS 
=>SS 
newSS 
AppointmentSS (
{TT 
IdUU 
=UU 
aUU 
.UU 
IdUU 
,UU 
StartVV 
=VV 
aVV 
.VV 
StartVV 
.VV  
ToLocalTimeVV  +
(VV+ ,
)VV, -
,VV- .
EndWW 
=WW 
aWW 
.WW 
EndWW 
.WW 
ToLocalTimeWW '
(WW' (
)WW( )
,WW) *
TextXX 
=XX 
aXX 
.XX 
TextXX 
,XX 
ColorYY 
=YY 
aYY 
.YY 
ColorYY 
,YY  
	RecurringZZ 
=ZZ 
aZZ 
.ZZ 
	RecurringZZ '
,ZZ' (
IdRecurring[[ 
=[[ 
a[[ 
.[[  
IdRecurring[[  +
}]] 
)]] 
.]] 
ToList]] 
(]] 
)]] 
;]] 
}^^ 
private`` 
void`` 
RefreshAppointments`` $
(``$ %
)``% &
{aa 

isReadOnlydd 
=dd 
_schedulerStatedd $
.dd$ %

isReadOnlydd% /
;dd/ 0
ifff 

(ff 
_schedulerStateff 
.ff 
SchedulerDisplayedff .
==ff/ 1

_userStateff2 <
.ff< =
Idff= ?
)ff? @
{gg 	
appointmentshh 
=hh 
_schedulerStatehh *
.hh* +
Appointmentshh+ 7
.ii 
Selectii 
(ii 
aii 
=>ii 
newii  
Appointmentii! ,
{jj 
Idkk 
=kk 
akk 
.kk 
Idkk 
,kk 
Startll 
=ll 
all 
.ll 
Startll #
.ll# $
ToLocalTimell$ /
(ll/ 0
)ll0 1
,ll1 2
Endmm 
=mm 
amm 
.mm 
Endmm 
.mm  
ToLocalTimemm  +
(mm+ ,
)mm, -
,mm- .
Textnn 
=nn 
ann 
.nn 
Textnn !
,nn! "
Coloroo 
=oo 
aoo 
.oo 
Coloroo #
,oo# $
	Recurringpp 
=pp 
app  !
.pp! "
	Recurringpp" +
,pp+ ,
IdRecurringqq 
=qq  !
aqq" #
.qq# $
IdRecurringqq$ /
}ss 
)ss 
.ss 
ToListss 
(ss 
)ss 
;ss 
InvokeAsyncuu 
(uu 
(uu 
)uu 
=>uu 
{uu 
StateHasChangeduu  /
(uu/ 0
)uu0 1
;uu1 2
}uu3 4
)uu4 5
;uu5 6
}vv 	
elseww 
{xx 	
appointmentsyy 
=yy 
_viewDashboardStateyy .
.yy. /

DashBoardsyy/ 9
.zz 
FirstOrDefaultzz 
(zz  
dzz  !
=>zz" $
dzz% &
.zz& '
UserIdzz' -
==zz. 0
_schedulerStatezz1 @
.zz@ A
SchedulerDisplayedzzA S
)zzS T
?{{ 
.{{ 
UserScheduler{{ 
?|| 
.|| 
Appointments|| 
.}} 
Select}} 
(}} 
a}} 
=>}} 
new}}  
Appointment}}! ,
{~~ 
Id 
= 
a 
. 
Id 
, 
Start
ÄÄ 
=
ÄÄ 
a
ÄÄ 
.
ÄÄ 
Start
ÄÄ #
.
ÄÄ# $
ToLocalTime
ÄÄ$ /
(
ÄÄ/ 0
)
ÄÄ0 1
,
ÄÄ1 2
End
ÅÅ 
=
ÅÅ 
a
ÅÅ 
.
ÅÅ 
End
ÅÅ 
.
ÅÅ  
ToLocalTime
ÅÅ  +
(
ÅÅ+ ,
)
ÅÅ, -
,
ÅÅ- .
Text
ÇÇ 
=
ÇÇ 
a
ÇÇ 
.
ÇÇ 
Text
ÇÇ !
,
ÇÇ! "
Color
ÉÉ 
=
ÉÉ 
a
ÉÉ 
.
ÉÉ 
Color
ÉÉ #
,
ÉÉ# $
	Recurring
ÑÑ 
=
ÑÑ 
a
ÑÑ  !
.
ÑÑ! "
	Recurring
ÑÑ" +
,
ÑÑ+ ,
IdRecurring
ÖÖ 
=
ÖÖ  !
a
ÖÖ" #
.
ÖÖ# $
IdRecurring
ÖÖ$ /
}
áá 
)
áá 
.
áá 
ToList
áá 
(
áá 
)
áá 
;
áá 
InvokeAsync
ââ 
(
ââ 
(
ââ 
)
ââ 
=>
ââ 
{
ââ 
StateHasChanged
ââ  /
(
ââ/ 0
)
ââ0 1
;
ââ1 2
}
ââ3 4
)
ââ4 5
;
ââ5 6
}
ää 	
}
ãã 
void
çç 
OnDaySelect
çç	 
(
çç )
SchedulerDaySelectEventArgs
çç 0
args
çç1 5
)
çç5 6
{
éé 
}
êê 
void
íí 
OnSlotRender
íí	 
(
íí *
SchedulerSlotRenderEventArgs
íí 2
args
íí3 7
)
íí7 8
{
ìì 
if
îî 

(
îî 
args
îî 
.
îî 
View
îî 
.
îî 
Text
îî 
==
îî 
$str
îî %
&&
îî& (
args
îî) -
.
îî- .
Start
îî. 3
.
îî3 4
Date
îî4 8
==
îî9 ;
DateTime
îî< D
.
îîD E
Today
îîE J
)
îîJ K
{
ïï 	
args
ññ 
.
ññ 

Attributes
ññ 
[
ññ 
$str
ññ #
]
ññ# $
=
ññ% &
$str
ññ' y
;
ññy z
}
óó 	
}
òò 
async
öö 	
Task
öö
 
OnSlotSelect
öö 
(
öö *
SchedulerSlotSelectEventArgs
öö 8
args
öö9 =
)
öö= >
{
õõ 
if
úú 

(
úú "
isClosingContextMenu
úú  
)
úú  !
return
úú" (
;
úú( )
if
ûû 

(
ûû 
!
ûû 
_schedulerState
ûû 
.
ûû 

isReadOnly
ûû '
)
ûû' (
{
üü 	
selectedStart
†† 
=
†† 
args
††  
.
††  !
Start
††! &
;
††& '
selectedEnd
°° 
=
°° 
args
°° 
.
°° 
End
°° "
;
°°" #"
showAppointmentPanel
¢¢  
=
¢¢! "
true
¢¢# '
;
¢¢' (

isEditMode
££ 
=
££ 
false
££ 
;
££ 
}
§§ 	
}
•• 
void
ßß  
OpenNewAppointment
ßß	 
(
ßß 
)
ßß 
{
®® 
selectedStart
©© 
=
©© 
DateTime
©©  
.
©©  !
Now
©©! $
;
©©$ %
selectedEnd
™™ 
=
™™ 
DateTime
™™ 
.
™™ 
Now
™™ "
.
™™" #
AddHours
™™# +
(
™™+ ,
$num
™™, -
)
™™- .
;
™™. /"
showAppointmentPanel
´´ 
=
´´ 
true
´´ #
;
´´# $
}
¨¨ 
void
ÆÆ  
OnAppointmentSaved
ÆÆ	 
(
ÆÆ 
Appointment
ÆÆ '
appointment
ÆÆ( 3
)
ÆÆ3 4
{
ØØ 
if
∞∞ 

(
∞∞ 
appointment
∞∞ 
.
∞∞ 
Id
∞∞ 
==
∞∞ 
null
∞∞ "
)
∞∞" #
{
±± 	
appointment
≤≤ 
.
≤≤ 
Id
≤≤ 
=
≤≤ 
Guid
≤≤ !
.
≤≤! "
NewGuid
≤≤" )
(
≤≤) *
)
≤≤* +
.
≤≤+ ,
ToString
≤≤, 4
(
≤≤4 5
)
≤≤5 6
;
≤≤6 7
}
≥≥ 	
appointments
µµ 
.
µµ 
Add
µµ 
(
µµ 
appointment
µµ $
)
µµ$ %
;
µµ% &"
showAppointmentPanel
∂∂ 
=
∂∂ 
false
∂∂ $
;
∂∂$ %

isEditMode
∑∑ 
=
∑∑ 
false
∑∑ 
;
∑∑ 
_schedulerState
∏∏ 
.
∏∏ 
SetAppointments
∏∏ '
(
∏∏' (
appointments
∏∏( 4
)
∏∏4 5
;
∏∏5 6
	scheduler
ππ 
.
ππ 
Reload
ππ 
(
ππ 
)
ππ 
;
ππ 
}
∫∫ 
async
ºº 	
Task
ºº
 !
OnAppointmentSelect
ºº "
(
ºº" #1
#SchedulerAppointmentSelectEventArgs
ºº# F
<
ººF G
Appointment
ººG R
>
ººR S
args
ººT X
)
ººX Y
{
ΩΩ 
}
ΩΩ 
private
øø 
void
øø 1
#OpenEditPanelForSelectedAppointment
øø 4
(
øø4 5
)
øø5 6
{
¿¿ 
if
¡¡ 

(
¡¡ !
selectedAppointment
¡¡ 
!=
¡¡  "
null
¡¡# '
)
¡¡' (
{
¬¬ 	
selectedStart
√√ 
=
√√ !
selectedAppointment
√√ /
.
√√/ 0
Start
√√0 5
;
√√5 6
selectedEnd
ƒƒ 
=
ƒƒ !
selectedAppointment
ƒƒ -
.
ƒƒ- .
End
ƒƒ. 1
;
ƒƒ1 2

isEditMode
≈≈ 
=
≈≈ 
true
≈≈ 
;
≈≈ "
showAppointmentPanel
∆∆  
=
∆∆! "
true
∆∆# '
;
∆∆' (
}
«« 	
}
»» 
private
   
void
   .
 OpenLessonForSelectedAppointment
   1
(
  1 2
)
  2 3
{
ÀÀ 
_lessonState
ÃÃ 
.
ÃÃ 
SetLessonSelected
ÃÃ &
(
ÃÃ& '!
selectedAppointment
ÃÃ' :
)
ÃÃ: ;
;
ÃÃ; <
}
ÕÕ 
void
œœ !
OnAppointmentRender
œœ	 
(
œœ 1
#SchedulerAppointmentRenderEventArgs
œœ @
<
œœ@ A
Appointment
œœA L
>
œœL M
args
œœN R
)
œœR S
{
–– 
if
—— 

(
—— 
!
—— 
string
—— 
.
—— 
IsNullOrEmpty
—— !
(
——! "
args
——" &
.
——& '
Data
——' +
.
——+ ,
Color
——, 1
)
——1 2
)
——2 3
{
““ 	
args
‘‘ 
.
‘‘ 

Attributes
‘‘ 
[
‘‘ 
$str
‘‘ )
]
‘‘) *
=
‘‘+ ,
$"
‘‘- /
$str
‘‘/ [
{
‘‘[ \
args
‘‘\ `
.
‘‘` a
Data
‘‘a e
.
‘‘e f
Id
‘‘f h
}
‘‘h i
$str
‘‘i k
"
‘‘k l
;
‘‘l m
args
’’ 
.
’’ 

Attributes
’’ 
[
’’ 
$str
’’ #
]
’’# $
=
’’% &
$"
’’' )
$str
’’) ;
{
’’; <
args
’’< @
.
’’@ A
Data
’’A E
.
’’E F
Color
’’F K
}
’’K L
$str
’’L [
"
’’[ \
;
’’\ ]
}
÷÷ 	
}
◊◊ 
async
ŸŸ 	
Task
ŸŸ
 
OnAppointmentMove
ŸŸ  
(
ŸŸ  !/
!SchedulerAppointmentMoveEventArgs
ŸŸ! B
args
ŸŸC G
)
ŸŸG H
{
⁄⁄ 
var
€€  
draggedAppointment
€€ 
=
€€  
appointments
€€! -
.
€€- .
FirstOrDefault
€€. <
(
€€< =
x
‹‹ 
=>
‹‹ 
x
‹‹ 
==
‹‹ 
args
‹‹ 
.
‹‹ 
Appointment
‹‹ &
.
‹‹& '
Data
‹‹' +
)
‹‹+ ,
;
‹‹, -
if
ﬁﬁ 

(
ﬁﬁ  
draggedAppointment
ﬁﬁ 
!=
ﬁﬁ !
null
ﬁﬁ" &
)
ﬁﬁ& '
{
ﬂﬂ 	
var
‡‡ 
duration
‡‡ 
=
‡‡  
draggedAppointment
‡‡ -
.
‡‡- .
End
‡‡. 1
-
‡‡2 3 
draggedAppointment
‡‡4 F
.
‡‡F G
Start
‡‡G L
;
‡‡L M
if
‚‚ 
(
‚‚ 
args
‚‚ 
.
‚‚ 
SlotDate
‚‚ 
.
‚‚ 
	TimeOfDay
‚‚ '
==
‚‚( *
TimeSpan
‚‚+ 3
.
‚‚3 4
Zero
‚‚4 8
)
‚‚8 9
{
„„  
draggedAppointment
‰‰ "
.
‰‰" #
Start
‰‰# (
=
‰‰) *
args
‰‰+ /
.
‰‰/ 0
SlotDate
‰‰0 8
.
‰‰8 9
Date
‰‰9 =
.
‰‰= >
Add
‰‰> A
(
‰‰A B 
draggedAppointment
‰‰B T
.
‰‰T U
Start
‰‰U Z
.
‰‰Z [
	TimeOfDay
‰‰[ d
)
‰‰d e
;
‰‰e f
}
ÂÂ 
else
ÊÊ 
{
ÁÁ  
draggedAppointment
ËË "
.
ËË" #
Start
ËË# (
=
ËË) *
args
ËË+ /
.
ËË/ 0
SlotDate
ËË0 8
;
ËË8 9
}
ÈÈ  
draggedAppointment
ÎÎ 
.
ÎÎ 
End
ÎÎ "
=
ÎÎ# $ 
draggedAppointment
ÎÎ% 7
.
ÎÎ7 8
Start
ÎÎ8 =
.
ÎÎ= >
Add
ÎÎ> A
(
ÎÎA B
duration
ÎÎB J
)
ÎÎJ K
;
ÎÎK L
await
ÌÌ 
	scheduler
ÌÌ 
.
ÌÌ 
Reload
ÌÌ "
(
ÌÌ" #
)
ÌÌ# $
;
ÌÌ$ %
}
ÓÓ 	
}
ÔÔ 
private
ÒÒ 
void
ÒÒ 
OnDatePicked
ÒÒ 
(
ÒÒ 
DateTime
ÒÒ &
?
ÒÒ& '
date
ÒÒ( ,
)
ÒÒ, -
{
ÚÚ 
if
ÛÛ 

(
ÛÛ 
date
ÛÛ 
.
ÛÛ 
HasValue
ÛÛ 
)
ÛÛ 
{
ÙÙ 	
currentDate
ıı 
=
ıı 
date
ıı 
.
ıı 
Value
ıı $
;
ıı$ %
}
ˆˆ 	
datePickerOpen
¯¯ 
=
¯¯ 
false
¯¯ 
;
¯¯ 
}
˘˘ 
void
˚˚ "
OnAppointmentDeleted
˚˚	 
(
˚˚ 
Appointment
˚˚ )
appointment
˚˚* 5
)
˚˚5 6
{
¸¸ 
var
˝˝ 
existing
˝˝ 
=
˝˝ 
appointments
˝˝ #
.
˝˝# $
FirstOrDefault
˝˝$ 2
(
˝˝2 3
a
˝˝3 4
=>
˝˝5 7
a
˝˝8 9
.
˝˝9 :
Id
˝˝: <
==
˝˝= ?
appointment
˝˝@ K
.
˝˝K L
Id
˝˝L N
)
˝˝N O
;
˝˝O P
if
ˇˇ 

(
ˇˇ 
existing
ˇˇ 
!=
ˇˇ 
null
ˇˇ 
)
ˇˇ 
{
ÄÄ 	
appointments
ÅÅ 
.
ÅÅ 
Remove
ÅÅ 
(
ÅÅ  
existing
ÅÅ  (
)
ÅÅ( )
;
ÅÅ) *
}
ÇÇ 	"
showAppointmentPanel
ÑÑ 
=
ÑÑ 
false
ÑÑ $
;
ÑÑ$ %

isEditMode
ÖÖ 
=
ÖÖ 
false
ÖÖ 
;
ÖÖ 
	scheduler
ÜÜ 
.
ÜÜ 
Reload
ÜÜ 
(
ÜÜ 
)
ÜÜ 
;
ÜÜ 
}
áá 
void
ââ 

ClosePanel
ââ	 
(
ââ 
)
ââ 
{
ää "
showAppointmentPanel
ãã 
=
ãã 
false
ãã $
;
ãã$ %

isEditMode
åå 
=
åå 
false
åå 
;
åå 
}
çç 
private
èè 
void
èè 
SetSchedulerView
èè !
(
èè! "
int
èè" %
index
èè& +
)
èè+ ,
{
êê 
selectedViewIndex
ëë 
=
ëë 
index
ëë !
;
ëë! "
StateHasChanged
íí 
(
íí 
)
íí 
;
íí 
}
ìì 
private
ïï 
void
ïï 
	GoToToday
ïï 
(
ïï 
)
ïï 
{
ññ 
currentDate
óó 
=
óó 
DateTime
óó 
.
óó 
Today
óó $
;
óó$ %
StateHasChanged
òò 
(
òò 
)
òò 
;
òò 
}
ôô 
private
õõ 
void
õõ 
GoToPrevious
õõ 
(
õõ 
)
õõ 
{
úú 
currentDate
ùù 
=
ùù 
selectedViewIndex
ùù '
==
ùù( *
$num
ùù+ ,
?
ùù- .
currentDate
ùù/ :
.
ùù: ;
AddDays
ùù; B
(
ùùB C
-
ùùC D
$num
ùùD E
)
ùùE F
:
ùùG H
currentDate
ùùI T
.
ùùT U
AddDays
ùùU \
(
ùù\ ]
-
ùù] ^
$num
ùù^ _
)
ùù_ `
;
ùù` a
StateHasChanged
ûû 
(
ûû 
)
ûû 
;
ûû 
}
üü 
private
°° 
void
°° 
GoToNext
°° 
(
°° 
)
°° 
{
¢¢ 
currentDate
££ 
=
££ 
selectedViewIndex
££ '
==
££( *
$num
££+ ,
?
££- .
currentDate
££/ :
.
££: ;
AddDays
££; B
(
££B C
$num
££C D
)
££D E
:
££F G
currentDate
££H S
.
££S T
AddDays
££T [
(
££[ \
$num
££\ ]
)
££] ^
;
££^ _
StateHasChanged
§§ 
(
§§ 
)
§§ 
;
§§ 
}
•• 
private
ßß 
string
ßß  
DisplayedDateLabel
ßß %
{
®® 
get
©© 
{
™™ 	
if
´´ 
(
´´ 
selectedViewIndex
´´ !
==
´´" $
$num
´´% &
)
´´& '
{
¨¨ 
return
≠≠ 
currentDate
≠≠ "
.
≠≠" #
ToString
≠≠# +
(
≠≠+ ,
$str
≠≠, 8
)
≠≠8 9
;
≠≠9 :
}
ÆÆ 
else
ØØ 
{
∞∞ 
var
±± 
firstDayOfWeek
±± "
=
±±# $
currentDate
±±% 0
.
±±0 1
StartOfWeek
±±1 <
(
±±< =
	DayOfWeek
±±= F
.
±±F G
Monday
±±G M
)
±±M N
;
±±N O
var
≤≤ 
lastDayOfWeek
≤≤ !
=
≤≤" #
firstDayOfWeek
≤≤$ 2
.
≤≤2 3
AddDays
≤≤3 :
(
≤≤: ;
$num
≤≤; <
)
≤≤< =
;
≤≤= >
return
≥≥ 
$"
≥≥ 
{
≥≥ 
firstDayOfWeek
≥≥ (
:
≥≥( )
$str
≥≥) 3
}
≥≥3 4
$str
≥≥4 8
{
≥≥8 9
lastDayOfWeek
≥≥9 F
:
≥≥F G
$str
≥≥G Q
}
≥≥Q R
"
≥≥R S
;
≥≥S T
}
¥¥ 
}
µµ 	
}
∂∂ 
[
ππ 
JSInvokable
ππ 
(
ππ 
$str
ππ !
)
ππ! "
]
ππ" #
public
∫∫ 

async
∫∫ 
Task
∫∫ 
ShowCustomMenu
∫∫ $
(
∫∫$ %
string
∫∫% +
id
∫∫, .
,
∫∫. /
int
∫∫0 3
x
∫∫4 5
,
∫∫5 6
int
∫∫7 :
y
∫∫; <
)
∫∫< =
{
ªª !
selectedAppointment
ºº 
=
ºº 
_schedulerState
ºº -
.
ºº- .
Appointments
ºº. :
.
ºº: ;
FirstOrDefault
ºº; I
(
ººI J
a
ººJ K
=>
ººL N
a
ººO P
.
ººP Q
Id
ººQ S
==
ººT V
id
ººW Y
)
ººY Z
;
ººZ [
menuX
ΩΩ 
=
ΩΩ 
x
ΩΩ 
;
ΩΩ 
menuY
ææ 
=
ææ 
y
ææ 
;
ææ 
showContextMenu
øø 
=
øø 
true
øø 
;
øø 
await
¡¡ 
InvokeAsync
¡¡ 
(
¡¡ 
StateHasChanged
¡¡ )
)
¡¡) *
;
¡¡* +
}
¬¬ 
[
ƒƒ 
JSInvokable
ƒƒ 
]
ƒƒ 
public
≈≈ 

async
≈≈ 
void
≈≈ 
CloseCustomMenu
≈≈ %
(
≈≈% &
)
≈≈& '
{
∆∆ "
isClosingContextMenu
«« 
=
«« 
true
«« #
;
««# $
await
…… 
Task
…… 
.
…… 
Delay
…… 
(
…… 
$num
…… 
)
…… 
;
…… 
showContextMenu
   
=
   
false
   
;
    "
isClosingContextMenu
ÀÀ 
=
ÀÀ 
false
ÀÀ $
;
ÀÀ$ %
await
ÕÕ 
InvokeAsync
ÕÕ 
(
ÕÕ 
StateHasChanged
ÕÕ )
)
ÕÕ) *
;
ÕÕ* +
}
ŒŒ 
}œœ Úq
vC:\Users\bapti\RiderProjects\MaClasse\MaClasse.Client\Components\DashboardContent\Calendar\AddAppointmentPage.razor.cs
	namespace 	
MaClasse
 
. 
Client 
. 

Components $
.$ %
DashboardContent% 5
.5 6
Calendar6 >
;> ?
public

 
partial

 
class

 
AddAppointmentPage

 '
:

( )
ComponentBase

* 7
{ 
private 
readonly 

HttpClient 
_httpClient  +
;+ ,
private 
readonly 
	UserState 

_userState )
;) *
private 
readonly 
SchedulerState #
_schedulerState$ 3
;3 4
private 
readonly 
LessonState  
_lessonState! -
;- .
private 
readonly 
IConfiguration #
_configuration$ 2
;2 3
public 

AddAppointmentPage 
( 

HttpClient 

httpClient 
, 
	UserState 
	userState 
, 
SchedulerState 
schedulerState %
,% &
LessonState 
lessonState 
,  
IConfiguration 
configuration $
)$ %
{ 
_httpClient 
= 

httpClient  
;  !

_userState 
= 
	userState 
; 
_schedulerState 
= 
schedulerState (
;( )
_lessonState 
= 
lessonState "
;" #
_configuration 
= 
configuration &
;& '
} 
[!! 
	Parameter!! 
]!! 
public!! 
DateTime!! 
Start!!  %
{!!& '
get!!( +
;!!+ ,
set!!- 0
;!!0 1
}!!2 3
["" 
	Parameter"" 
]"" 
public"" 
DateTime"" 
End""  #
{""$ %
get""& )
;"") *
set""+ .
;"". /
}""0 1
[## 
	Parameter## 
]## 
public## 
bool## 

IsEditMode## &
{##' (
get##) ,
;##, -
set##. 1
;##1 2
}##3 4
[$$ 
	Parameter$$ 
]$$ 
public$$ 
EventCallback$$ $
<$$$ %
Appointment$$% 0
>$$0 1
OnSave$$2 8
{$$9 :
get$$; >
;$$> ?
set$$@ C
;$$C D
}$$E F
[%% 
	Parameter%% 
]%% 
public%% 
EventCallback%% $
OnCancel%%% -
{%%. /
get%%0 3
;%%3 4
set%%5 8
;%%8 9
}%%: ;
[&& 
	Parameter&& 
]&& 
public&& 
EventCallback&& $
<&&$ %
Appointment&&% 0
>&&0 1
OnDelete&&2 :
{&&; <
get&&= @
;&&@ A
set&&B E
;&&E F
}&&G H
['' 
	Parameter'' 
]'' 
public'' 
Appointment'' "
Model''# (
{'') *
get''+ .
;''. /
set''0 3
;''3 4
}''5 6
private)) 
DateTime)) 
?)) 
tempStartDate)) #
;))# $
private** 
TimeSpan** 
?** 
tempStartTime** #
;**# $
private++ 
DateTime++ 
?++ 
tempEndDate++ !
;++! "
private,, 
TimeSpan,, 
?,, 
tempEndTime,, !
;,,! "
private-- 
Appointment-- 
model-- 
=-- 
new--  #
Appointment--$ /
(--/ 0
)--0 1
;--1 2
private// 
string// 
_colorValue// 
;// 
private00 
bool00 

_recurring00 
;00 
	protected22 
override22 
void22 
OnParametersSet22 +
(22+ ,
)22, -
{33 
tempStartDate44 
=44 
Start44 
;44 
tempStartTime55 
=55 
Start55 
.55 
	TimeOfDay55 '
;55' (
tempEndDate77 
=77 
End77 
;77 
tempEndTime88 
=88 
End88 
.88 
	TimeOfDay88 #
;88# $
if:: 

(:: 

IsEditMode:: 
&&:: 
Model:: 
!=::  "
null::# '
)::' (
{;; 	
model<< 
=<< 
new<< 
Appointment<< #
{== 
Id>> 
=>> 
Model>> 
.>> 
Id>> 
,>> 
Start?? 
=?? 
Model?? 
.?? 
Start?? #
,??# $
End@@ 
=@@ 
Model@@ 
.@@ 
End@@ 
,@@  
TextAA 
=AA 
ModelAA 
.AA 
TextAA !
,AA! "
ColorBB 
=BB 
ModelBB 
.BB 
ColorBB #
,BB# $
	RecurringCC 
=CC 
ModelCC !
.CC! "
	RecurringCC" +
,CC+ ,
IdRecurringDD 
=DD 
ModelDD #
.DD# $
IdRecurringDD$ /
}EE 
;EE 
_colorValueGG 
=GG 
ModelGG 
.GG  
ColorGG  %
;GG% &

_recurringHH 
=HH 
ModelHH 
.HH 
	RecurringHH (
;HH( )
}II 	
elseJJ 
{KK 	

_recurringLL 
=LL 
falseLL 
;LL 
_colorValueMM 
=MM 
$strMM #
;MM# $
}NN 	
}OO 
asyncQQ 	
TaskQQ
 
SubmitQQ 
(QQ 
)QQ 
{RR 
ifSS 

(SS 
OnSaveSS 
.SS 
HasDelegateSS 
)SS 
{TT 	
ifUU 
(UU 
tempStartDateVV 
.VV 
HasValueVV &
&&VV' )
tempStartTimeWW 
.WW 
HasValueWW &
&&WW' )
tempEndDateXX 
.XX 
HasValueXX $
&&XX% '
tempEndTimeYY 
.YY 
HasValueYY $
&&YY% '
modelZZ 
.ZZ 
TextZZ 
!=ZZ 
nullZZ "
)\\ 
{]] 
model^^ 
.^^ 
Start^^ 
=^^ 
tempStartDate^^ +
.^^+ ,
Value^^, 1
.^^1 2
Date^^2 6
+^^7 8
tempStartTime^^9 F
.^^F G
Value^^G L
;^^L M
model__ 
.__ 
End__ 
=__ 
tempEndDate__ '
.__' (
Value__( -
.__- .
Date__. 2
+__3 4
tempEndTime__5 @
.__@ A
Value__A F
;__F G
ifaa 
(aa 
modelaa 
.aa 
Startaa 
<aa  !
modelaa" '
.aa' (
Endaa( +
)aa+ ,
{bb 
awaitcc 
OnSavecc  
.cc  !
InvokeAsynccc! ,
(cc, -
modelcc- 2
)cc2 3
;cc3 4
varee 
newSchedulerRequestee +
=ee, -
newee. 1
SchedulerRequestee2 B
{ff 
	IdSessiongg !
=gg" #

_userStategg$ .
.gg. /
	IdSessiongg/ 8
,gg8 9
Appointmenthh #
=hh$ %
newhh& )
Appointmenthh* 5
{ii 
Idjj 
=jj  
modeljj! &
.jj& '
Idjj' )
,jj) *
Startkk !
=kk" #
modelkk$ )
.kk) *
Startkk* /
,kk/ 0
Endll 
=ll  !
modelll" '
.ll' (
Endll( +
,ll+ ,
Textmm  
=mm! "
modelmm# (
.mm( )
Textmm) -
,mm- .
Colornn !
=nn" #
_colorValuenn$ /
,nn/ 0
	Recurringoo %
=oo& '

_recurringoo( 2
,oo2 3
IdRecurringpp '
=pp( )
modelpp* /
.pp/ 0
IdRecurringpp0 ;
}qq 
}rr 
;rr 
ifuu 
(uu 
!uu 

IsEditModeuu #
)uu# $
{vv 
varww 
responseww $
=ww% &
awaitww' ,
_httpClientww- 8
.ww8 9
PostAsJsonAsyncww9 H
(wwH I
$"xx 
{xx 
_configurationxx -
[xx- .
$strxx. >
]xx> ?
}xx? @
$strxx@ ]
"xx] ^
,xx^ _
newSchedulerRequestyy /
)yy/ 0
;yy0 1
if{{ 
({{ 
response{{ $
.{{$ %
IsSuccessStatusCode{{% 8
){{8 9
{|| 
var}} 
appointmentList}}  /
=}}0 1
await}}2 7
response}}8 @
.}}@ A
Content}}A H
.}}H I
ReadFromJsonAsync}}I Z
<}}Z [
List}}[ _
<}}_ `
Appointment}}` k
>}}k l
>}}l m
(}}m n
)}}n o
;}}o p
_schedulerState +
.+ ,
SetAppointments, ;
(; <
appointmentList< K
)K L
;L M
}
ÄÄ 
}
ÅÅ 
if
ÑÑ 
(
ÑÑ 

IsEditMode
ÑÑ "
)
ÑÑ" #
{
ÖÖ 
var
ÜÜ 
response
ÜÜ $
=
ÜÜ% &
await
ÜÜ' ,
_httpClient
ÜÜ- 8
.
ÜÜ8 9
PostAsJsonAsync
ÜÜ9 H
(
ÜÜH I
$"
áá 
{
áá 
_configuration
áá -
[
áá- .
$str
áá. >
]
áá> ?
}
áá? @
$str
áá@ `
"
áá` a
,
ááa b!
newSchedulerRequest
àà /
)
àà/ 0
;
àà0 1
if
ää 
(
ää 
response
ää $
.
ää$ %!
IsSuccessStatusCode
ää% 8
)
ää8 9
{
ãã 
var
åå 
appointmentList
åå  /
=
åå0 1
await
åå2 7
response
åå8 @
.
åå@ A
Content
ååA H
.
ååH I
ReadFromJsonAsync
ååI Z
<
ååZ [
List
åå[ _
<
åå_ `
Appointment
åå` k
>
ååk l
>
åål m
(
ååm n
)
åån o
;
ååo p
_schedulerState
éé +
.
éé+ ,
SetAppointments
éé, ;
(
éé; <
appointmentList
éé< K
)
ééK L
;
ééL M
_lessonState
èè (
.
èè( )'
UpdateSelectedAppointment
èè) B
(
èèB C
appointmentList
èèC R
)
èèR S
;
èèS T
}
êê 
}
ëë 
}
íí 
}
ìì 
}
îî 	
}
ïï 
async
óó 	
Task
óó
 
Cancel
óó 
(
óó 
)
óó 
{
òò 
if
ôô 

(
ôô 
OnCancel
ôô 
.
ôô 
HasDelegate
ôô  
)
ôô  !
await
öö 
OnCancel
öö 
.
öö 
InvokeAsync
öö &
(
öö& '
)
öö' (
;
öö( )
}
õõ 
async
ùù 	
Task
ùù
 
Delete
ùù 
(
ùù 
)
ùù 
{
ûû 
if
üü 

(
üü 
OnDelete
üü 
.
üü 
HasDelegate
üü  
)
üü  !
{
†† 	
await
¢¢ 
OnDelete
¢¢ 
.
¢¢ 
InvokeAsync
¢¢ &
(
¢¢& '
model
¢¢' ,
)
¢¢, -
;
¢¢- .
var
•• !
newSchedulerRequest
•• #
=
••$ %
new
••& )
SchedulerRequest
••* :
{
¶¶ 
	IdSession
ßß 
=
ßß 

_userState
ßß &
.
ßß& '
	IdSession
ßß' 0
,
ßß0 1
Appointment
®® 
=
®® 
new
®® !
Appointment
®®" -
{
©© 
Id
™™ 
=
™™ 
model
™™ 
.
™™ 
Id
™™ !
,
™™! "
Start
´´ 
=
´´ 
model
´´ !
.
´´! "
Start
´´" '
,
´´' (
End
¨¨ 
=
¨¨ 
model
¨¨ 
.
¨¨  
End
¨¨  #
,
¨¨# $
Text
≠≠ 
=
≠≠ 
model
≠≠  
.
≠≠  !
Text
≠≠! %
,
≠≠% &
Color
ÆÆ 
=
ÆÆ 
_colorValue
ÆÆ '
,
ÆÆ' (
	Recurring
ØØ 
=
ØØ 

_recurring
ØØ  *
,
ØØ* +
IdRecurring
∞∞ 
=
∞∞  !
model
∞∞" '
.
∞∞' (
IdRecurring
∞∞( 3
}
±± 
}
≤≤ 
;
≤≤ 
var
¥¥ 
response
¥¥ 
=
¥¥ 
await
¥¥  
_httpClient
¥¥! ,
.
¥¥, -
PostAsJsonAsync
¥¥- <
(
¥¥< =
$"
µµ 
{
µµ 
_configuration
µµ !
[
µµ! "
$str
µµ" 2
]
µµ2 3
}
µµ3 4
$str
µµ4 T
"
µµT U
,
µµU V!
newSchedulerRequest
µµW j
)
µµj k
;
µµk l
if
∑∑ 
(
∑∑ 
response
∑∑ 
.
∑∑ !
IsSuccessStatusCode
∑∑ ,
)
∑∑, -
{
∏∏ 
var
ππ 
appointmentList
ππ #
=
ππ$ %
await
ππ& +
response
ππ, 4
.
ππ4 5
Content
ππ5 <
.
ππ< =
ReadFromJsonAsync
ππ= N
<
ππN O
List
ππO S
<
ππS T
Appointment
ππT _
>
ππ_ `
>
ππ` a
(
ππa b
)
ππb c
;
ππc d
_schedulerState
ªª 
.
ªª  
SetAppointments
ªª  /
(
ªª/ 0
appointmentList
ªª0 ?
)
ªª? @
;
ªª@ A
_lessonState
ææ 
.
ææ 2
$DeleteLessonAfterAppointmentDeletion
ææ A
(
ææA B
model
ææB G
.
ææG H
Id
ææH J
)
ææJ K
;
ææK L
}
øø 
}
¿¿ 	
}
¡¡ 
}¬¬ Í
[C:\Users\bapti\RiderProjects\MaClasse\MaClasse.Client\Components\Auth\ThermsDialog.razor.cs
	namespace 	
MaClasse
 
. 
Client 
. 

Components $
.$ %
Auth% )
;) *
public 
partial 
class 
ThermsDialog !
:" #
ComponentBase$ 1
{ 
[ 
CascadingParameter 
] 
private  
IMudDialogInstance! 3
?3 4
	MudDialog5 >
{? @
getA D
;D E
setF I
;I J
}K L
public

 

void

 
CloseTherms

 
(

 
)

 
{ 
	MudDialog 
? 
. 
Close 
( 
DialogResult %
.% &
Ok& (
(( )
true) -
)- .
). /
;/ 0
} 
} Î
[C:\Users\bapti\RiderProjects\MaClasse\MaClasse.Client\Components\Auth\PolicyDialog.razor.cs
	namespace 	
MaClasse
 
. 
Client 
. 

Components $
.$ %
Auth% )
;) *
public 
partial 
class 
ProfileDialog "
:# $
ComponentBase% 2
{ 
[ 
CascadingParameter 
] 
private  
IMudDialogInstance! 3
?3 4
	MudDialog5 >
{? @
getA D
;D E
setF I
;I J
}K L
public

 

void

 
ClosePolicy

 
(

 
)

 
{ 
	MudDialog 
? 
. 
Close 
( 
DialogResult %
.% &
Ok& (
(( )
true) -
)- .
). /
;/ 0
} 
} ì
YC:\Users\bapti\RiderProjects\MaClasse\MaClasse.Client\Components\Auth\AuthDialog.razor.cs
	namespace 	
MaClasse
 
. 
Client 
. 

Components $
.$ %
Auth% )
;) *
public 
partial 
class 

AuthDialog 
:  !
ComponentBase" /
{ 
[		 
CascadingParameter		 
]		 
private		  
IMudDialogInstance		! 3
?		3 4
	MudDialog		5 >
{		? @
get		A D
;		D E
set		F I
;		I J
}		K L
[ 
	Parameter 
] 
public 

UserProfile 
? 
User 
{ 
get "
;" #
set$ '
;' (
}) *
public 

string 
roleSelection 
;  
public 

string 
zoneSelection 
;  
public 

bool 
isClosed 
= 
false  
;  !
private 
void 
TryValidate 
( 
) 
{ 
if 

( 
string 
. 
IsNullOrWhiteSpace %
(% &
roleSelection& 3
)3 4
|5 6
string7 =
.= >
IsNullOrWhiteSpace> P
(P Q
zoneSelectionQ ^
)^ _
)_ `
{ 	
return 
; 
} 	
	MudDialog 
? 
. 
Close 
( 
DialogResult %
.% &
Ok& (
(( )
new) ,
SignupDialogResult- ?
{ 	
Role 
= 
roleSelection  
,  !
Zone 
= 
zoneSelection  
} 	
)	 

)
 
; 
} 
}   õ¿
SC:\Users\bapti\RiderProjects\MaClasse\MaClasse.Client\Components\Auth\Auth.razor.cs
	namespace		 	
MaClasse		
 
.		 
Client		 
.		 

Components		 $
.		$ %
Auth		% )
;		) *
public 
partial 
class 
Auth 
: 
ComponentBase )
{ 
private 
readonly 
NavigationManager &
_navigationManager' 9
;9 :
private 
readonly 

HttpClient 
_httpClient  +
;+ ,
private 
readonly 
IDialogService #
_dialogService$ 2
;2 3
private 
readonly 
IConfiguration #
_configuration$ 2
;2 3
private 
readonly 

IJSRuntime 

_jsRuntime  *
;* +
private 
readonly  
IHttpContextAccessor ) 
_httpContextAccessor* >
;> ?
private 
readonly 
UserService  
_userService! -
;- .
private 
readonly 
	UserState 

_userState )
;) *
private 
readonly !
ProtectedLocalStorage *"
_protectedLocalStorage+ A
;A B
private 
readonly 
RefreshService #
_refreshService$ 3
;3 4
private 
readonly 
SchedulerState #
_schedulerState$ 3
;3 4
private 
readonly 
ILogger 
< 
Auth !
>! "
_logger# *
;* +
public 

Auth 
( 
NavigationManager 
navigationManager +
,+ ,

HttpClient 

httpClient 
, 
IDialogService 
dialogService $
,$ %
IConfiguration 
configuration $
,$ %

IJSRuntime   
	jsRuntime   
,    
IHttpContextAccessor!! 
httpContextAccessor!! 0
,!!0 1
UserService"" 
userService"" 
,""  
	UserState## 
	userState## 
,## !
ProtectedLocalStorage$$ !
protectedLocalStorage$$ 3
,$$3 4
RefreshService%% 
refreshService%% %
,%%% &
SchedulerState&& 
schedulerState&& %
,&&% &
ILogger'' 
<'' 
Auth'' 
>'' 
logger'' 
)'' 
{(( 
_navigationManager)) 
=)) 
navigationManager)) .
;)). /
_httpClient** 
=** 

httpClient**  
;**  !
_dialogService++ 
=++ 
dialogService++ &
;++& '
_configuration,, 
=,, 
configuration,, &
;,,& '

_jsRuntime-- 
=-- 
	jsRuntime-- 
;--  
_httpContextAccessor.. 
=.. 
httpContextAccessor.. 2
;..2 3
_userService// 
=// 
userService// "
;//" #

_userState00 
=00 
	userState00 
;00 "
_protectedLocalStorage11 
=11  !
protectedLocalStorage11! 6
;116 7
_refreshService22 
=22 
refreshService22 (
;22( )
_schedulerState33 
=33 
schedulerState33 (
;33( )
_logger44 
=44 
logger44 
;44 
}55 
[77 
	Parameter77 
]77 
public77 
EventCallback77 $
<77$ %
string77% +
>77+ ,
OnTokenReceived77- <
{77= >
get77? B
;77B C
set77D G
;77G H
}77I J
private88 !
DotNetObjectReference88 !
<88! "
Auth88" &
>88& '
?88' (
	dotNetRef88) 2
;882 3
private;; 
string;; 
_currentTitle;;  
=;;! "
$str;;# M
;;;M N
private== 
bool== 
_isGoogleLogin== 
===  !
false==" '
;==' (
private?? 

AuthReturn?? 
??? 
returnResponse?? &
;??& '
privateAA 
boolAA 
_dialogOpenAA 
=AA 
falseAA $
;AA$ %
	protectedCC 
overrideCC 
asyncCC 
TaskCC !
OnAfterRenderAsyncCC" 4
(CC4 5
boolCC5 9
firstRenderCC: E
)CCE F
{DD 
ifEE 

(EE 
firstRenderEE 
)EE 
{FF 	
ConsoleGG 
.GG 
	WriteLineGG 
(GG 
$strGG +
)GG+ ,
;GG, -
	dotNetRefHH 
=HH !
DotNetObjectReferenceHH -
.HH- .
CreateHH. 4
(HH4 5
thisHH5 9
)HH9 :
;HH: ;
awaitII 

_jsRuntimeII 
.II 
InvokeVoidAsyncII ,
(II, -
$strJJ '
,JJ' (
	dotNetRefKK 
,KK 
_configurationLL 
[LL 
$strLL ?
]LL? @
)LL@ A
;LLA B
}MM 	
}NN 
[PP 
JSInvokablePP 
]PP 
publicQQ 

asyncQQ 
TaskQQ 
ReceiveGoogleTokenQQ (
(QQ( )
stringQQ) /
jwtTokenQQ0 8
)QQ8 9
{RR 
_isGoogleLoginSS 
=SS 
trueSS 
;SS 
StateHasChangedTT 
(TT 
)TT 
;TT 
varVV 
coucouVV 
=VV 
_configurationVV #
[VV# $
$strVV$ 4
]VV4 5
;VV5 6
_loggerWW 
.WW 
LogInformationWW 
(WW 
$strWW /
,WW/ 0
coucouWW1 7
)WW7 8
;WW8 9
tryYY 
{ZZ 	
var[[ 
response[[ 
=[[ 
await[[  
_httpClient[[! ,
.[[, -
PostAsJsonAsync[[- <
([[< =
$"\\ 
{\\ 
_configuration\\ 
[\\ 
$str\\ .
]\\. /
}\\/ 0
$str\\0 F
"\\F G
,\\G H
new]] 
GoogleTokenRequest]] "
{]]" #
Token]]$ )
=]]* +
jwtToken]], 4
}]]5 6
)]]6 7
;]]7 8
if__ 
(__ 
response__ 
.__ 
IsSuccessStatusCode__ ,
)__, -
{`` 
returnResponseaa 
=aa  
awaitaa! &
responseaa' /
.aa/ 0
Contentaa0 7
.aa7 8
ReadFromJsonAsyncaa8 I
<aaI J

AuthReturnaaJ T
>aaT U
(aaU V
)aaV W
;aaW X
awaitdd "
_protectedLocalStoragedd ,
.dd, -
SetAsyncdd- 5
(dd5 6
$strdd6 D
,ddD E
returnResponseddF T
.ddT U
	IdSessionddU ^
)dd^ _
;dd_ `
_userServicegg 
.gg 
AuthenticateUsergg -
(gg- .
returnResponsegg. <
.gg< =
UserWithRattachmentgg= P
.ggP Q
UserProfileggQ \
)gg\ ]
;gg] ^
varjj 
newUserStatejj  
=jj! "
newjj# &
	UserStatejj' 0
{kk 
AccessTokenll 
=ll  !
returnResponsell" 0
.ll0 1
UserWithRattachmentll1 D
.llD E
AccessTokenllE P
,llP Q
	IdSessionmm 
=mm 
returnResponsemm  .
.mm. /
	IdSessionmm/ 8
,mm8 9
Idnn 
=nn 
returnResponsenn '
.nn' (
UserWithRattachmentnn( ;
.nn; <
UserProfilenn< G
.nnG H
IdnnH J
,nnJ K
IdRoleoo 
=oo 
returnResponseoo +
.oo+ ,
UserWithRattachmentoo, ?
.oo? @
UserProfileoo@ K
.ooK L
IdRoleooL R
,ooR S
Emailpp 
=pp 
returnResponsepp *
.pp* +
UserWithRattachmentpp+ >
.pp> ?
UserProfilepp? J
.ppJ K
EmailppK P
,ppP Q
Nameqq 
=qq 
returnResponseqq )
.qq) *
UserWithRattachmentqq* =
.qq= >
UserProfileqq> I
.qqI J
NameqqJ N
,qqN O
Rolerr 
=rr 
returnResponserr )
.rr) *
UserWithRattachmentrr* =
.rr= >
UserProfilerr> I
.rrI J
RolerrJ N
,rrN O
Zoness 
=ss 
returnResponsess )
.ss) *
UserWithRattachmentss* =
.ss= >
UserProfiless> I
.ssI J
ZonessJ N
,ssN O
	GivenNamett 
=tt 
returnResponsett  .
.tt. /
UserWithRattachmenttt/ B
.ttB C
UserProfilettC N
.ttN O
	GivenNamettO X
,ttX Y

FamilyNameuu 
=uu  
returnResponseuu! /
.uu/ 0
UserWithRattachmentuu0 C
.uuC D
UserProfileuuD O
.uuO P

FamilyNameuuP Z
,uuZ [
Picturevv 
=vv 
returnResponsevv ,
.vv, -
UserWithRattachmentvv- @
.vv@ A
UserProfilevvA L
.vvL M
PicturevvM T
,vvT U
	CreatedAtww 
=ww 
returnResponseww  .
.ww. /
UserWithRattachmentww/ B
.wwB C
UserProfilewwC N
.wwN O
	CreatedAtwwO X
,wwX Y
	UpdatedAtxx 
=xx 
returnResponsexx  .
.xx. /
UserWithRattachmentxx/ B
.xxB C
UserProfilexxC N
.xxN O
	UpdatedAtxxO X
,xxX Y
AsDirecteuryy 
=yy  !
returnResponseyy" 0
.yy0 1
UserWithRattachmentyy1 D
.yyD E
AsDirecteuryyE P
,yyP Q
AsProfesseurzz  
=zz! "
returnResponsezz# 1
.zz1 2
UserWithRattachmentzz2 E
.zzE F
AsProfesseurzzF R
}|| 
;|| 
var~~ 
newSchedulerState~~ %
=~~& '
new~~( +
SchedulerState~~, :
{ 
IdScheduler
ÄÄ 
=
ÄÄ  !
returnResponse
ÄÄ" 0
.
ÄÄ0 1
	Scheduler
ÄÄ1 :
.
ÄÄ: ;
IdScheduler
ÄÄ; F
,
ÄÄF G
IdUser
ÅÅ 
=
ÅÅ 
returnResponse
ÅÅ +
.
ÅÅ+ ,
	Scheduler
ÅÅ, 5
.
ÅÅ5 6
IdUser
ÅÅ6 <
,
ÅÅ< =
Appointments
ÇÇ  
=
ÇÇ! "
returnResponse
ÇÇ# 1
.
ÇÇ1 2
	Scheduler
ÇÇ2 ;
.
ÇÇ; <
Appointments
ÇÇ< H
,
ÇÇH I
	CreatedAt
ÉÉ 
=
ÉÉ 
returnResponse
ÉÉ  .
.
ÉÉ. /
	Scheduler
ÉÉ/ 8
.
ÉÉ8 9
	CreatedAt
ÉÉ9 B
,
ÉÉB C
	UpdatedAt
ÑÑ 
=
ÑÑ 
returnResponse
ÑÑ  .
.
ÑÑ. /
	Scheduler
ÑÑ/ 8
.
ÑÑ8 9
	UpdatedAt
ÑÑ9 B
,
ÑÑB C 
SchedulerDisplayed
ÖÖ &
=
ÖÖ' (
returnResponse
ÖÖ) 7
.
ÖÖ7 8
	Scheduler
ÖÖ8 A
.
ÖÖA B
IdUser
ÖÖB H
}
ÜÜ 
;
ÜÜ 

_userState
àà 
.
àà 
SetUser
àà "
(
àà" #
newUserState
àà# /
)
àà/ 0
;
àà0 1
_schedulerState
ââ 
.
ââ  
SetScheduler
ââ  ,
(
ââ, -
newSchedulerState
ââ- >
)
ââ> ?
;
ââ? @
if
çç 
(
çç 
returnResponse
çç "
.
çç" #
	IsNewUser
çç# ,
)
çç, -
{
éé 
await
èè 
OpenDialogAuth
èè (
(
èè( )
returnResponse
èè) 7
.
èè7 8!
UserWithRattachment
èè8 K
.
èèK L
UserProfile
èèL W
)
èèW X
;
èèX Y
}
êê 
else
ëë 
{
íí  
_navigationManager
ìì &
.
ìì& '

NavigateTo
ìì' 1
(
ìì1 2
$str
ìì2 >
)
ìì> ?
;
ìì? @
}
îî 
}
ïï 
}
ññ 	
catch
óó 
(
óó 
	Exception
óó 
e
óó 
)
óó 
{
òò 	
Console
ôô 
.
ôô 
	WriteLine
ôô 
(
ôô 
e
ôô 
)
ôô  
;
ôô  !
throw
öö 
;
öö 
}
õõ 	
}
ùù 
private
üü 
async
üü 
Task
üü 
OpenDialogAuth
üü %
(
üü% &
UserProfile
üü& 1
user
üü2 6
)
üü6 7
{
†† 
var
¢¢ 

parameters
¢¢ 
=
¢¢ 
new
¢¢ 
DialogParameters
¢¢ -
{
¢¢. /
{
¢¢0 1
$str
¢¢2 8
,
¢¢8 9
user
¢¢: >
}
¢¢? @
}
¢¢A B
;
¢¢B C
var
•• 
options
•• 
=
•• 
new
•• 
DialogOptions
•• '
{
¶¶ 	
CloseOnEscapeKey
ßß 
=
ßß 
false
ßß $
,
ßß$ %
CloseButton
®® 
=
®® 
false
®® 
,
®®  
	FullWidth
©© 
=
©© 
true
©© 
,
©© 
MaxWidth
™™ 
=
™™ 
MaxWidth
™™ 
.
™™  
Small
™™  %
,
™™% &
}
´´ 	
;
´´	 

var
ØØ 
dialog
ØØ 
=
ØØ 
await
ØØ 
_dialogService
ØØ )
.
ØØ) *
	ShowAsync
ØØ* 3
<
ØØ3 4

AuthDialog
ØØ4 >
>
ØØ> ?
(
ØØ? @
$str
ØØ@ B
,
ØØB C

parameters
ØØD N
,
ØØN O
options
ØØP W
)
ØØW X
;
ØØX Y
var
±± 
result
±± 
=
±± 
await
±± 
dialog
±± !
.
±±! "
Result
±±" (
;
±±( )
if
≥≥ 

(
≥≥ 
!
≥≥ 
result
≥≥ 
.
≥≥ 
Canceled
≥≥ 
&&
≥≥ 
result
≥≥  &
.
≥≥& '
Data
≥≥' +
is
≥≥, . 
SignupDialogResult
≥≥/ A
dialogResult
≥≥B N
)
≥≥N O
{
¥¥ 	
var
µµ 
payload
µµ 
=
µµ 
new
µµ  
SignupDialogResult
µµ 0
{
∂∂ 
Role
∑∑ 
=
∑∑ 
dialogResult
∑∑ '
.
∑∑' (
Role
∑∑( ,
,
∑∑, -
Zone
∏∏ 
=
∏∏ 
dialogResult
∏∏ '
.
∏∏' (
Zone
∏∏( ,
,
∏∏, -
AccessToken
ππ 
=
ππ  !

_userState
ππ" ,
.
ππ, -
AccessToken
ππ- 8
,
ππ8 9
	IdSession
∫∫ 
=
∫∫ 

_userState
∫∫  *
.
∫∫* +
	IdSession
∫∫+ 4
}
ªª 
;
ªª 
var
ææ 
response
ææ 
=
ææ 
await
ææ  
_httpClient
ææ! ,
.
ææ, -
PostAsJsonAsync
ææ- <
(
ææ< =
$"
øø 
{
øø 
_configuration
øø !
[
øø! "
$str
øø" 2
]
øø2 3
}
øø3 4
$str
øø4 M
"
øøM N
,
øøN O
payload
øøP W
)
øøW X
;
øøX Y
if
¡¡ 
(
¡¡ 
response
¡¡ 
.
¡¡ !
IsSuccessStatusCode
¡¡ ,
)
¡¡, -
{
¬¬ 
returnResponse
√√ 
=
√√  
await
√√! &
response
√√' /
.
√√/ 0
Content
√√0 7
.
√√7 8
ReadFromJsonAsync
√√8 I
<
√√I J

AuthReturn
√√J T
>
√√T U
(
√√U V
)
√√V W
;
√√W X
_userService
ƒƒ 
.
ƒƒ 
AuthenticateUser
ƒƒ -
(
ƒƒ- .
returnResponse
ƒƒ. <
.
ƒƒ< =!
UserWithRattachment
ƒƒ= P
.
ƒƒP Q
UserProfile
ƒƒQ \
)
ƒƒ\ ]
;
ƒƒ] ^
var
∆∆ 
newUserState
∆∆  
=
∆∆! "
new
∆∆# &
	UserState
∆∆' 0
{
«« 
AccessToken
»» 
=
»»  !
returnResponse
»»" 0
.
»»0 1!
UserWithRattachment
»»1 D
.
»»D E
AccessToken
»»E P
,
»»P Q
	IdSession
…… 
=
…… 
returnResponse
……  .
.
……. /
	IdSession
……/ 8
,
……8 9
Id
   
=
   
returnResponse
   '
.
  ' (!
UserWithRattachment
  ( ;
.
  ; <
UserProfile
  < G
.
  G H
Id
  H J
,
  J K
IdRole
ÀÀ 
=
ÀÀ 
returnResponse
ÀÀ +
.
ÀÀ+ ,!
UserWithRattachment
ÀÀ, ?
.
ÀÀ? @
UserProfile
ÀÀ@ K
.
ÀÀK L
IdRole
ÀÀL R
,
ÀÀR S
Email
ÃÃ 
=
ÃÃ 
returnResponse
ÃÃ *
.
ÃÃ* +!
UserWithRattachment
ÃÃ+ >
.
ÃÃ> ?
UserProfile
ÃÃ? J
.
ÃÃJ K
Email
ÃÃK P
,
ÃÃP Q
Name
ÕÕ 
=
ÕÕ 
returnResponse
ÕÕ )
.
ÕÕ) *!
UserWithRattachment
ÕÕ* =
.
ÕÕ= >
UserProfile
ÕÕ> I
.
ÕÕI J
Name
ÕÕJ N
,
ÕÕN O
Role
ŒŒ 
=
ŒŒ 
returnResponse
ŒŒ )
.
ŒŒ) *!
UserWithRattachment
ŒŒ* =
.
ŒŒ= >
UserProfile
ŒŒ> I
.
ŒŒI J
Role
ŒŒJ N
,
ŒŒN O
Zone
œœ 
=
œœ 
returnResponse
œœ )
.
œœ) *!
UserWithRattachment
œœ* =
.
œœ= >
UserProfile
œœ> I
.
œœI J
Zone
œœJ N
,
œœN O
	GivenName
–– 
=
–– 
returnResponse
––  .
.
––. /!
UserWithRattachment
––/ B
.
––B C
UserProfile
––C N
.
––N O
	GivenName
––O X
,
––X Y

FamilyName
—— 
=
——  
returnResponse
——! /
.
——/ 0!
UserWithRattachment
——0 C
.
——C D
UserProfile
——D O
.
——O P

FamilyName
——P Z
,
——Z [
Picture
““ 
=
““ 
returnResponse
““ ,
.
““, -!
UserWithRattachment
““- @
.
““@ A
UserProfile
““A L
.
““L M
Picture
““M T
,
““T U
	CreatedAt
”” 
=
”” 
returnResponse
””  .
.
””. /!
UserWithRattachment
””/ B
.
””B C
UserProfile
””C N
.
””N O
	CreatedAt
””O X
,
””X Y
	UpdatedAt
‘‘ 
=
‘‘ 
returnResponse
‘‘  .
.
‘‘. /!
UserWithRattachment
‘‘/ B
.
‘‘B C
UserProfile
‘‘C N
.
‘‘N O
	UpdatedAt
‘‘O X
,
‘‘X Y
AsDirecteur
’’ 
=
’’  !
returnResponse
’’" 0
.
’’0 1!
UserWithRattachment
’’1 D
.
’’D E
AsDirecteur
’’E P
,
’’P Q
AsProfesseur
÷÷  
=
÷÷! "
returnResponse
÷÷# 1
.
÷÷1 2!
UserWithRattachment
÷÷2 E
.
÷÷E F
AsProfesseur
÷÷F R
}
◊◊ 
;
◊◊ 
var
ŸŸ 
newSchedulerState
ŸŸ %
=
ŸŸ& '
new
ŸŸ( +
SchedulerState
ŸŸ, :
{
⁄⁄ 
IdScheduler
€€ 
=
€€  !
returnResponse
€€" 0
.
€€0 1
	Scheduler
€€1 :
.
€€: ;
IdScheduler
€€; F
,
€€F G
IdUser
‹‹ 
=
‹‹ 
returnResponse
‹‹ +
.
‹‹+ ,
	Scheduler
‹‹, 5
.
‹‹5 6
IdUser
‹‹6 <
,
‹‹< =
Appointments
››  
=
››! "
returnResponse
››# 1
.
››1 2
	Scheduler
››2 ;
.
››; <
Appointments
››< H
,
››H I
	CreatedAt
ﬁﬁ 
=
ﬁﬁ 
returnResponse
ﬁﬁ  .
.
ﬁﬁ. /
	Scheduler
ﬁﬁ/ 8
.
ﬁﬁ8 9
	CreatedAt
ﬁﬁ9 B
,
ﬁﬁB C
	UpdatedAt
ﬂﬂ 
=
ﬂﬂ 
returnResponse
ﬂﬂ  .
.
ﬂﬂ. /
	Scheduler
ﬂﬂ/ 8
.
ﬂﬂ8 9
	UpdatedAt
ﬂﬂ9 B
,
ﬂﬂB C 
SchedulerDisplayed
‡‡ &
=
‡‡' (
returnResponse
‡‡) 7
.
‡‡7 8
	Scheduler
‡‡8 A
.
‡‡A B
IdUser
‡‡B H
}
‚‚ 
;
‚‚ 

_userState
‰‰ 
.
‰‰ 
SetUser
‰‰ "
(
‰‰" #
newUserState
‰‰# /
)
‰‰/ 0
;
‰‰0 1
_schedulerState
ÂÂ 
.
ÂÂ  
SetScheduler
ÂÂ  ,
(
ÂÂ, -
newSchedulerState
ÂÂ- >
)
ÂÂ> ?
;
ÂÂ? @ 
_navigationManager
ÁÁ "
.
ÁÁ" #

NavigateTo
ÁÁ# -
(
ÁÁ- .
$str
ÁÁ. :
)
ÁÁ: ;
;
ÁÁ; <
}
ËË 
}
ÍÍ 	
else
ÎÎ 
{
ÏÏ 	
await
ÌÌ 
OpenDialogAuth
ÌÌ  
(
ÌÌ  !
user
ÌÌ! %
)
ÌÌ% &
;
ÌÌ& '
}
ÓÓ 	
}
 
public
ÚÚ 

async
ÚÚ 
Task
ÚÚ 
OpenDialogTherms
ÚÚ &
(
ÚÚ& '
)
ÚÚ' (
{
ÛÛ 
if
ÙÙ 

(
ÙÙ 
_dialogOpen
ÙÙ 
)
ÙÙ 
{
ıı 	
return
ˆˆ 
;
ˆˆ 
}
˜˜ 	
_dialogOpen
˘˘ 
=
˘˘ 
true
˘˘ 
;
˘˘ 
var
¸¸ 
options
¸¸ 
=
¸¸ 
new
¸¸ 
DialogOptions
¸¸ '
{
˝˝ 	
CloseOnEscapeKey
˛˛ 
=
˛˛ 
true
˛˛ #
,
˛˛# $
CloseButton
ˇˇ 
=
ˇˇ 
true
ˇˇ 
,
ˇˇ 
	FullWidth
ÄÄ 
=
ÄÄ 
true
ÄÄ 
,
ÄÄ 
MaxWidth
ÅÅ 
=
ÅÅ 
MaxWidth
ÅÅ 
.
ÅÅ  
Small
ÅÅ  %
,
ÅÅ% &
}
ÇÇ 	
;
ÇÇ	 

var
ÖÖ 
dialog
ÖÖ 
=
ÖÖ 
await
ÖÖ 
_dialogService
ÖÖ )
.
ÖÖ) *
	ShowAsync
ÖÖ* 3
<
ÖÖ3 4
ThermsDialog
ÖÖ4 @
>
ÖÖ@ A
(
ÖÖA B
$str
ÖÖB D
,
ÖÖD E
options
ÖÖF M
)
ÖÖM N
;
ÖÖN O
await
ÜÜ 
dialog
ÜÜ 
.
ÜÜ 
Result
ÜÜ 
;
ÜÜ 
_dialogOpen
áá 
=
áá 
false
áá 
;
áá 
}
àà 
public
ää 

async
ää 
Task
ää 
OpenDialogPolicy
ää &
(
ää& '
)
ää' (
{
ãã 
if
åå 

(
åå 
_dialogOpen
åå 
)
åå 
{
çç 	
return
éé 
;
éé 
}
èè 	
_dialogOpen
ëë 
=
ëë 
true
ëë 
;
ëë 
var
îî 
options
îî 
=
îî 
new
îî 
DialogOptions
îî '
{
ïï 	
CloseOnEscapeKey
ññ 
=
ññ 
true
ññ #
,
ññ# $
CloseButton
óó 
=
óó 
true
óó 
,
óó 
	FullWidth
òò 
=
òò 
true
òò 
,
òò 
MaxWidth
ôô 
=
ôô 
MaxWidth
ôô 
.
ôô  
Small
ôô  %
,
ôô% &
}
öö 	
;
öö	 

var
úú 
dialog
úú 
=
úú 
await
úú 
_dialogService
úú -
.
úú- .
	ShowAsync
úú. 7
<
úú7 8
ProfileDialog
úú8 E
>
úúE F
(
úúF G
$str
úúG I
,
úúI J
options
úúK R
)
úúR S
;
úúS T
await
ùù 
dialog
ùù 
.
ùù 
Result
ùù 
;
ùù  
_dialogOpen
ûû 
=
ûû 
false
ûû 
;
ûû  
}
üü 
}†† 